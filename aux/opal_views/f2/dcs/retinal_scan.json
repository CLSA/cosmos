{"from": ["clsa-dcs-f2.Participants","clsa-dcs-images-f2.RetinalScanLeft","clsa-dcs-images-f2.RetinalScanRight"],"name": "QC_F2_retinal_scan","datasourceName": "cosmos_dcs","Magma.VariableListViewDto.view": {"variables": [{"name": "technician","entityType": "Participant","valueType": "text","mimeType": "","isRepeatable": false,"attributes": [{"name": "script","value": "var list = ['RetinalScanLeft','RetinalScanRight']\nvar res = null\nfor(var i=0; i<list.length; i++) {\n  var str = $('clsa-dcs-images-f2.'+list[i]+':InstrumentRun.user').whenNull(\n    $group('Admin.Action.stage',list[i],'Admin.Action.user').asSequence().last()).lowerCase()\n  if(str.isNull().not().value()) {\n    var v = str.value()\n    if(0<v.length) {\n      res = newValue(v)\n      break\n    }  \n  }  \n}\nres"}],"unit": "","index": 0,"referencedEntityType": ""},{"name": "skip","entityType": "Participant","valueType": "text","mimeType": "","isRepeatable": false,"unit": "","index": 0,"referencedEntityType": ""},{"name": "contraindicated","entityType": "Participant","valueType": "boolean","mimeType": "","isRepeatable": false,"attributes": [{"name": "script","value": "$('cosmos_dcs.QC_F2_retinal_scan_left:contraindicated').and(\n  $('cosmos_dcs.QC_F2_retinal_scan_right:contraindicated'))"}],"unit": "","index": 0,"referencedEntityType": ""},{"name": "missing","entityType": "Participant","valueType": "boolean","mimeType": "","isRepeatable": false,"unit": "","index": 0,"referencedEntityType": ""},{"name": "duration","entityType": "Participant","valueType": "integer","mimeType": "","isRepeatable": false,"attributes": [{"name": "script","value": "$('cosmos_dcs.QC_F2_retinal_scan_left:duration').plus(\n  $('cosmos_dcs.QC_F2_retinal_scan_right:duration'))"}],"unit": "","index": 0,"referencedEntityType": ""},{"name": "file_name","entityType": "Participant","valueType": "text","mimeType": "","isRepeatable": true,"occurrenceGroup": "","attributes": [{"name": "script","value": "newSequence(['retinal_scan_left','retinal_scan_right'])"}],"unit": "","index": 0,"referencedEntityType": ""},{"name": "file_size","entityType": "Participant","valueType": "integer","mimeType": "","isRepeatable": true,"occurrenceGroup": "","attributes": [{"name": "script","value": "newSequence([$('cosmos_dcs.QC_F2_retinal_scan_left:file_size'),$('cosmos_dcs.QC_F2_retinal_scan_right:file_size')],'integer')"}],"unit": "","index": 0,"referencedEntityType": ""},{"name": "file_complete","entityType": "Participant","valueType": "decimal","mimeType": "","isRepeatable": false,"attributes": [{"name": "script","value": "$this('file_size').trimmer().size().div($this('file_name').size()).multiply(100)"}],"unit": "","index": 0,"referencedEntityType": ""}]}}