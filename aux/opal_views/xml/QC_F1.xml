<org.obiba.magma.views.View>
  <name>QC_F1</name>
  <from class="org.obiba.magma.views.JoinTable">
    <list>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.Participants</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.BloodPressure</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.CognitiveTest</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-images-f1.CarotidIntima</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-images-f1.DualHipBoneDensity</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.ECG</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-images-f1.ForearmBoneDensity</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.GripStrength</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.Hearing</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-images-f1.LateralBoneDensity</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-images-f1.RetinalScanLeft</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-images-f1.RetinalScanRight</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.Spirometry</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.Tonometer</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.Weight</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-images-f1.WholeBodyBoneDensity</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.StandingHeight</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-images-f1.SpineBoneDensity</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.ChairRise</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.HipsWaist</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.TUG</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.StandingBalance</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.NeuropsychologicalBattery</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.VisionAcuity</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.4mWalk</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.HearingQuestionnaire</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.FunctionalStatus</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.DiseaseSymptoms</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.Consent</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.ContraIndications</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.GenHealth</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.Urine</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.QuestionnaireBoneDensity</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.Blood</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.Blood2</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.Deviation_AE_CRF</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.BodyCompositionWeight</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.OSEA</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.OSOnly</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.QualityAssuranceIH</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.NeuropsychologicalBatteryScoring</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.HeightWeight</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.TimeBasedProspectiveMemoryTask</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.Frax</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.ConclusionQuestionnaire</reference>
      </table>
      <table inner="false" class="org.obiba.magma.support.ValueTableReference">
        <reference>clsa-dcs-f1.EventPMT</reference>
      </table>
    </list>
  </from>
  <select class="org.obiba.magma.views.support.NoneClause"/>
  <where class="org.obiba.magma.views.support.AllClause"/>
  <variables class="org.obiba.magma.js.views.VariablesClause">
    <variables class="linked-hash-set">
      <variable name="stage_technician_spirometry" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="stage" valueType="text">Spirometry</attribute>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.Spirometry:InstrumentRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;Spirometry&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="interview_site" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;Admin.ApplicationConfiguration.siteName&apos;).map({
  &apos;BritishColumbia&apos;:&apos;University of BC DCS&apos;,
  &apos;British Columbia&apos;:&apos;University of BC DCS&apos;,
  &apos;Calgary&apos;:&apos;Calgary DCS&apos;,
  &apos;Dalhousie&apos;:&apos;Dalhousie DCS&apos;,
  &apos;Hamilton&apos;:&apos;Hamilton DCS&apos;,
  &apos;Manitoba&apos;:&apos;Manitoba DCS&apos;,
  &apos;McGill&apos;:&apos;McGill DCS&apos;,
  &apos;McMaster&apos;:&apos;Hamilton DCS&apos;,
  &apos;Memorial&apos;:&apos;Memorial DCS&apos;,
  &apos;Memorial University&apos;:&apos;Memorial DCS&apos;,
  &apos;Ottawa&apos;:&apos;Ottawa DCS&apos;,
  &apos;Sherbrooke&apos;:&apos;Sherbrooke DCS&apos;,
  &apos;Simon Fraser&apos;:&apos;Simon Fraser DCS&apos;,
  &apos;SimonFraser&apos;:&apos;Simon Fraser DCS&apos;,
  &apos;UniversityofBC&apos;:&apos;University of BC DCS&apos;,
  &apos;University of Manitoba&apos;:&apos;Manitoba DCS&apos;,
  &apos;University of Victoria&apos;:&apos;Victoria DCS&apos;,
  &apos;Victoria&apos;:&apos;Victoria DCS&apos;},null) </attribute>
        </attributes>
      </variable>
      <variable name="data_missing_spirometry" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_spirometry&apos;).isNull().and(
  $this(&apos;stage_contraindicated_spirometry&apos;).eq(0),
  $this(&apos;stage_skip_spirometry&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_spirometry" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;Spirometry&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;Spirometry&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_spirometry" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;Spirometry&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="interview_start_date" valueType="date" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="derivedFrom" namespace="opal" valueType="text">/datasource/clsa-dcs-f1/table/Participants/variable/Admin.Interview.startDate</attribute>
          <attribute name="script" valueType="text">$(&apos;Admin.Interview.startDate&apos;)</attribute>
        </attributes>
      </variable>
      <variable name="interview_barcode" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="identifier" valueType="text">true</attribute>
          <attribute name="derivedFrom" namespace="opal" valueType="text">/datasource/clsa-dcs-f1/table/Participants/variable/Admin.Participant.barcode</attribute>
          <attribute name="script" valueType="text">$(&apos;Admin.Participant.barcode&apos;)</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_spirometry" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var res=$(&apos;clsa-dcs-f1.Spirometry:OUTPUT_QUALITY_GRADE&apos;)
if(!res.isNull().value()) {
  res=newValue(&apos;{grade:&apos;+res.value()+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_grip_strength" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.GripStrength:InstrumentRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;GripStrength&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_grip_strength" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;GripStrength&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_grip_strength" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;GripStrength&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;GripStrength&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_grip_strength" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_grip_strength&apos;).isNull().and(
  $this(&apos;stage_contraindicated_grip_strength&apos;).eq(0),
  $this(&apos;stage_skip_grip_strength&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_grip_strength" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var res=$(&apos;clsa-dcs-f1.GripStrength:Measure.RES_TRIAL_MAX&apos;)
if(res.isNull().not().value()) {
  res=newValue(&apos;{trial_count:&apos;+res.size()+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_blood_pressure" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.BloodPressure:InstrumentRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;BloodPressure&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_blood_pressure" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;BloodPressure&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_blood_pressure" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;BloodPressure&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;BloodPressure&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_blood_pressure" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_blood_pressure&apos;).isNull().and(
  $this(&apos;stage_contraindicated_blood_pressure&apos;).eq(0),
  $this(&apos;stage_skip_blood_pressure&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_blood_pressure" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var res=$(&apos;clsa-dcs-f1.BloodPressure:RES_AVG_COUNT&apos;)
if(res.isNull().not().value()) {
  res=newValue(&apos;{trial_count:&apos;+res.value()+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_ecg" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.ECG:InstrumentRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;ECG&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_ecg" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;ECG&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_ecg" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;ECG&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;ECG&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_ecg" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_ecg&apos;).isNull().and(
  $this(&apos;stage_contraindicated_ecg&apos;).eq(0),
  $this(&apos;stage_skip_ecg&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_ecg" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var f=$(&apos;clsa-dcs-f1.ECG:RES_XML_FILE&apos;)
var q=$(&apos;clsa-dcs-f1.ECG:RES_DIAGNOSIS&apos;)
var res=null
if(f.isNull().not().value()) {
  var str=&apos;{filesize:&apos;+f.length()+&apos;,quality:&apos;
  if(q.lowerCase().matches(/poor data quality/).value()) {
    str += &apos;0}&apos;
  } else {
    str += &apos;1}&apos;
  }
  res = newValue(str,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_cognitive_test" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.CognitiveTest:InstrumentRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;CognitiveTest&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_cognitive_test" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;CognitiveTest&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_cognitive_test" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;CognitiveTest&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;CognitiveTest&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_cognitive_test" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_cognitive_test&apos;).isNull().and(
  $this(&apos;stage_contraindicated_cognitive_test&apos;).eq(0),
  $this(&apos;stage_skip_cognitive_test&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_cognitive_test" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var res=$(&apos;clsa-dcs-f1.CognitiveTest:RES_RESULT_FILE&apos;)
if(res.isNull().not().value()) {
  res = newValue(&apos;{filesize:&apos;+res.length()+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_hearing" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.Hearing:InstrumentRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;Hearing&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_hearing" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;Hearing&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_hearing" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;Hearing&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;Hearing&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_hearing" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_hearing&apos;).isNull().and(
  $this(&apos;stage_contraindicated_hearing&apos;).eq(0),
  $this(&apos;stage_skip_hearing&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_hearing" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var side = [&apos;RIGHT&apos;,&apos;LEFT&apos;]
var freq = [&apos;1KT&apos;,&apos;500&apos;,&apos;1K&apos;,&apos;2K&apos;,&apos;3K&apos;,&apos;4K&apos;,&apos;6K&apos;,&apos;8K&apos;]
var count = {RIGHT:0,LEFT:0}
var countfreq = {RIGHT:0,LEFT:0}
var counterr = {RIGHT:0,LEFT:0}
for(var i=0;i&lt;side.length;i++) {
  var s = side[i]
  var v = &apos;clsa-dcs-f1.Hearing:RES_&apos; + s + &apos;_&apos;
  for(var j=0;j&lt;freq.length;j++) {
    var f = v + freq[j]
    if ($(f).isNull().not().or($(f + &apos;_ERR&apos;).isNull().not()).value()) count[s]++;
    if ($(f).isNull().not().value()) countfreq[s]++;
    if ($(f + &apos;_ERR&apos;).isNull().not().value()) counterr[s]++;
  }
}
res = (0 == count.RIGHT &amp;&amp; 0 == count.LEFT &amp;&amp;
  $(&apos;clsa-dcs-f1.Hearing:RES_TEST_ID&apos;).isNull().and(
    $(&apos;clsa-dcs-f1.Hearing:RES_TEST_DATETIME&apos;).isNull()).value()) ?
      null : newValue(
        &apos;{response_left:&apos;+count.LEFT+
        &apos;,response_right:&apos;+count.RIGHT+
        &apos;,error_left:&apos;+(counterr.LEFT&gt;0 &amp;&amp; countfreq.LEFT==0 ? &apos;1&apos; : &apos;0&apos;)+
        &apos;,error_right:&apos;+(counterr.RIGHT&gt;0 &amp;&amp; countfreq.RIGHT==0 ? &apos;1&apos; : &apos;0&apos;)+
        &apos;}&apos;,&apos;text&apos;)</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_tonometer" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.Tonometer:InstrumentRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;Tonometer&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_tonometer" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;Tonometer&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_tonometer" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;Tonometer&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;Tonometer&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_tonometer" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_tonometer&apos;).isNull().and(
  $this(&apos;stage_contraindicated_tonometer&apos;).eq(0),
  $this(&apos;stage_skip_tonometer&apos;).isNull()
).value() ? 1: 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_tonometer" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var eye=$(&apos;clsa-dcs-f1.Tonometer:Measure.TON_EYE&apos;).lowerCase().map({
  &apos;l&apos;:&apos;L&apos;,
  &apos;r&apos;:&apos;R&apos;,
  &apos;right&apos;:&apos;R&apos;,
  &apos;left&apos;:&apos;L&apos;,
  &apos;left eye&apos;:&apos;L&apos;,
  &apos;right eye&apos;:&apos;R&apos;,
  &apos;righr&apos;:&apos;R&apos;,
  &apos;rigth&apos;:&apos;R&apos;,
  &apos;rught&apos;:&apos;R&apos;,
  &apos;lrft&apos;:&apos;L&apos;,
  &apos;0&apos;:&apos;L&apos;,
  &apos;1&apos;:&apos;R&apos;,
  &apos;ll&apos;:&apos;L&apos;,
  &apos;rr&apos;:&apos;R&apos;,
  &apos;le&apos;:&apos;L&apos;,
  &apos;leeft&apos;:&apos;L&apos;,
  &apos;gauche&apos;:&apos;L&apos;,
  &apos;droit&apos;:&apos;R&apos;,
  &apos;droite&apos;:&apos;R&apos;},null)

// bare minimum useful data is IOPcc: Corneal Compensated Intraocular Pressure
var iopcc=$(&apos;clsa-dcs-f1.Tonometer:Measure.TON_IOPCC&apos;).asSequence()

// if there is raw applanation and pressure data there will be a quality index
// for each set of measurements
var qual=$(&apos;clsa-dcs-f1.Tonometer:Measure.TON_QUALITYINDEX&apos;).asSequence()
var appl=$(&apos;clsa-dcs-f1.Tonometer:Measure.TON_PRESSURE&apos;).asSequence()
var pres=$(&apos;clsa-dcs-f1.Tonometer:Measure.TON_APPLANATION&apos;).asSequence()

var has_iopcc=iopcc.size().eq(eye.size()).value()
var has_qual=qual.size().eq(eye.size()).value()
var has_appl=appl.size().eq(eye.size()).value()
var has_pres=pres.size().eq(eye.size()).value()
var res=null
if(eye.isNull().not().value()) {
  var side={L:{left_iopcc:&apos;0&apos;,left_qi:&apos;-1&apos;,left_appl:&apos;0&apos;,left_pres:&apos;0&apos;},
            R:{right_iopcc:&apos;0&apos;,right_qi:&apos;-1&apos;,right_appl:&apos;0&apos;,right_pres:&apos;0&apos;}}
  for(var i=0;i&lt;eye.size();i++) {
    var e=eye.valueAt(i).value()
    if(has_iopcc) {
      var q=newValue(iopcc.valueAt(i).value(),&apos;text&apos;)
      if(q.matches(/^(\d*\.)?\d+$/)) {
        if(&apos;L&apos;==e) {
          side[e].left_iopcc=&apos;1&apos;
        } else if(&apos;R&apos;==e) {
          side[e].right_iopcc=&apos;1&apos;
        }
      }
    }
    if(has_qual) {
      var q=newValue(qual.valueAt(i).round(2).value(),&apos;text&apos;)
      if(q.matches(/^(\d*\.)?\d+$/)) {
        if(&apos;L&apos;==e) {
          side[e].left_qi=q.value()
        } else if(&apos;R&apos;==e) {
          side[e].right_qi=q.value()
        }
      }
    }
    if(has_appl) {
      var q=appl.valueAt(i).value().split(&apos;,&apos;).length
      if(&apos;L&apos;==e) {
        side[e].left_appl=q
      } else if(&apos;R&apos;==e) {
        side[e].right_appl=q
      }
    }
    if(has_pres) {
      var q=pres.valueAt(i).value().split(&apos;,&apos;).length
      if(&apos;L&apos;==e) {
        side[e].left_pres=q
      } else if(&apos;R&apos;==e) {
        side[e].right_pres=q
      }
    }
  }
  res=newValue(
    JSON.stringify(side.L).replace(/&quot;/g,&apos;&apos;).replace(/}/g,&apos;,&apos;) +
    JSON.stringify(side.R).replace(/&quot;/g,&apos;&apos;).replace(/{/g,&apos;&apos;), &apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_weight" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.Weight:InstrumentRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;Weight&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_weight" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;Weight&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_weight" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;Weight&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;Weight&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_weight" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_weight&apos;).isNull().and(
  $this(&apos;stage_contraindicated_weight&apos;).eq(0),
  $this(&apos;stage_skip_weight&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_weight" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var res=$(&apos;clsa-dcs-f1.Weight:Measure.RES_WEIGHT_MEASURE&apos;)
if(res.size().gt(1).value()){
  res=newValue(&apos;{stddev:&apos;+res.stddev().round(6).value()+&apos;,size:&apos;+res.size().value()+&apos;}&apos;,&apos;text&apos;)
} else if(res.size().eq(1).value()) {
  res=newValue(&apos;{stddev:0,size:1}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_retinal_scan_left" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-images-f1.RetinalScanLeft:InstrumentRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;RetinalScanLeft&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_retinal_scan_left" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;RetinalScanLeft&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_retinal_scan_left" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;RetinalScanLeft&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;RetinalScanLeft&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_retinal_scan_left" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_retinal_scan_left&apos;).isNull().and(
  $this(&apos;stage_contraindicated_retinal_scan_left&apos;).eq(0),
  $this(&apos;stage_skip_retinal_scan_left&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_retinal_scan_left" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var res=$(&apos;clsa-dcs-images-f1.RetinalScanLeft:EYE&apos;)
if(res.isNull().not().value()) {
  res=newValue(&apos;{filesize:&apos;+res.length()+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_retinal_scan_right" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-images-f1.RetinalScanRight:InstrumentRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;RetinalScanRight&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_retinal_scan_right" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;RetinalScanRight&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_retinal_scan_right" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;RetinalScanRight&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;RetinalScanRight&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_retinal_scan_right" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_retinal_scan_right&apos;).isNull().and(
  $this(&apos;stage_contraindicated_retinal_scan_right&apos;).eq(0),
  $this(&apos;stage_skip_retinal_scan_right&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_retinal_scan_right" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var res=$(&apos;clsa-dcs-images-f1.RetinalScanRight:EYE&apos;)
if(res.isNull().not().value()) {
  res=newValue(&apos;{filesize:&apos;+res.length()+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_lateral_bone_density" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-images-f1.LateralBoneDensity:InstrumentRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;LateralBoneDensity&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_lateral_bone_density" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;LateralBoneDensity&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_lateral_bone_density" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;LateralBoneDensity&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;LateralBoneDensity&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_lateral_bone_density" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_lateral_bone_density&apos;).isNull().and(
  $this(&apos;stage_contraindicated_lateral_bone_density&apos;).eq(0),
  $this(&apos;stage_skip_lateral_bone_density&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_lateral_bone_density" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var res=$(&apos;clsa-dcs-images-f1.LateralBoneDensity:RES_SEL_DICOM_MEASURE&apos;)
if(res.isNull().not().value()) {
  res = newValue(&apos;{filesize:&apos;+res.length()+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_standing_height" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.StandingHeight:InstrumentRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;StandingHeight&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_standing_height" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;StandingHeight&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_standing_height" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;StandingHeight&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;StandingHeight&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_standing_height" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_standing_height&apos;).isNull().and(
  $this(&apos;stage_contraindicated_standing_height&apos;).eq(0),
  $this(&apos;stage_skip_standing_height&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_standing_height" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var res=$(&apos;clsa-dcs-f1.StandingHeight:Measure.RES_HEIGHT_MEASURE&apos;)
if(res.size().gt(1).value()){
  res=newValue(&apos;{stddev:&apos;+res.stddev().round(6).value()+&apos;,size:&apos;+res.size().value()+&apos;}&apos;,&apos;text&apos;)
} else if(res.size().eq(1).value()) {
  res=newValue(&apos;{stddev:0,size:1}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_spine_bone_density" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-images-f1.SpineBoneDensity:InstrumentRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;SpineBoneDensity&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_spine_bone_density" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;SpineBoneDensity&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_spine_bone_density" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;SpineBoneDensity&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;SpineBoneDensity&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_spine_bone_density" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_spine_bone_density&apos;).isNull().and(
  $this(&apos;stage_contraindicated_spine_bone_density&apos;).eq(0),
  $this(&apos;stage_skip_spine_bone_density&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_spine_bone_density" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var res=$(&apos;clsa-dcs-images-f1.SpineBoneDensity:RES_SP_DICOM&apos;)
if(res.isNull().not().value()) {
  res = newValue(&apos;{filesize:&apos;+res.length()+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_forearm_bone_density" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-images-f1.ForearmBoneDensity:InstrumentRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;ForearmBoneDensity&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_forearm_bone_density" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;ForearmBoneDensity&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_forearm_bone_density" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;ForearmBoneDensity&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;ForearmBoneDensity&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_forearm_bone_density" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_forearm_bone_density&apos;).isNull().and(
  $this(&apos;stage_contraindicated_forearm_bone_density&apos;).eq(0),
  $this(&apos;stage_skip_forearm_bone_density&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_forearm_bone_density" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var res=$group(&apos;OUTPUT_FA_SIDE&apos;,&apos;LEFT&apos;,&apos;RES_FA_DICOM&apos;).asSequence().last().whenNull(
  $group(&apos;OUTPUT_FA_SIDE&apos;,&apos;RIGHT&apos;,&apos;RES_FA_DICOM&apos;).asSequence().last())
if(res.isNull().not().value()) {
  res=newValue(&apos;{filesize:&apos;+res.length().value()+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_whole_body_bone_density" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-images-f1.WholeBodyBoneDensity:InstrumentRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;WholeBodyBoneDensity&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_whole_body_bone_density" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;WholeBodyBoneDensity&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_whole_body_bone_density" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;WholeBodyBoneDensity&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;WholeBodyBoneDensity&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_whole_body_bone_density" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_whole_body_bone_density&apos;).isNull().and(
  $this(&apos;stage_contraindicated_whole_body_bone_density&apos;).eq(0),
  $this(&apos;stage_skip_whole_body_bone_density&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_whole_body_bone_density" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var res=$(&apos;clsa-dcs-images-f1.WholeBodyBoneDensity:RES_WB_DICOM_1&apos;)
if(res.isNull().not().value()) {
  res = newValue(&apos;{filesize:&apos;+res.length()+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_dual_hip_bone_density" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-images-f1.DualHipBoneDensity:InstrumentRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;DualHipBoneDensity&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_dual_hip_bone_density" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;DualHipBoneDensity&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_dual_hip_bone_density" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;DualHipBoneDensity&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;DualHipBoneDensity&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_dual_hip_bone_density" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_dual_hip_bone_density&apos;).isNull().and(
  $this(&apos;stage_contraindicated_dual_hip_bone_density&apos;).eq(0),
  $this(&apos;stage_skip_dual_hip_bone_density&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_dual_hip_bone_density" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var l=$group(&apos;Measure.OUTPUT_HIP_SIDE&apos;,&apos;LEFT&apos;,&apos;Measure.RES_HIP_DICOM&apos;).asSequence().last()
var r=$group(&apos;Measure.OUTPUT_HIP_SIDE&apos;,&apos;RIGHT&apos;,&apos;Measure.RES_HIP_DICOM&apos;).asSequence().last()
var res=null
if(!l.isNull().and(r.isNull()).value()) {
  res=newValue(
    &apos;{filesize_left:&apos;+
    (l.isNull().value()?&apos;0&apos;:l.length().value())+
    &apos;,filesize_right:&apos;+
    (r.isNull().value()?&apos;0&apos;:r.length().value())+
    &apos;}&apos;, &apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_carotid_intima" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-images-f1.CarotidIntima:InstrumentRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;CarotidIntima&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_carotid_intima" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;CarotidIntima&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_carotid_intima" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;CarotidIntima&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;CarotidIntima&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_carotid_intima" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_carotid_intima&apos;).isNull().and(
  $this(&apos;stage_contraindicated_carotid_intima&apos;).eq(0),
  $this(&apos;stage_skip_carotid_intima&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_carotid_intima" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var rc=$group(&apos;clsa-dcs-images-f1.CarotidIntima:Measure.SIDE&apos;,&apos;Right&apos;,&apos;Measure.CINELOOP_1&apos;).asSequence().last()
var rsr=$group(&apos;clsa-dcs-images-f1.CarotidIntima:Measure.SIDE&apos;,&apos;Right&apos;,&apos;Measure.SR_1&apos;).asSequence().last()
var rs1=$group(&apos;clsa-dcs-images-f1.CarotidIntima:Measure.SIDE&apos;,&apos;Right&apos;,&apos;Measure.STILL_IMAGE_1&apos;).asSequence().last()
var rs2=$group(&apos;clsa-dcs-images-f1.CarotidIntima:Measure.SIDE&apos;,&apos;Right&apos;,&apos;Measure.STILL_IMAGE_2&apos;).asSequence().last()
var rs3=$group(&apos;clsa-dcs-images-f1.CarotidIntima:Measure.SIDE&apos;,&apos;Right&apos;,&apos;Measure.STILL_IMAGE_3&apos;).asSequence().last()
var lc=$group(&apos;clsa-dcs-images-f1.CarotidIntima:Measure.SIDE&apos;,&apos;Left&apos;,&apos;Measure.CINELOOP_1&apos;).asSequence().last()
var lsr=$group(&apos;clsa-dcs-images-f1.CarotidIntima:Measure.SIDE&apos;,&apos;Left&apos;,&apos;Measure.SR_1&apos;).asSequence().last()
var ls1=$group(&apos;clsa-dcs-images-f1.CarotidIntima:Measure.SIDE&apos;,&apos;Left&apos;,&apos;Measure.STILL_IMAGE_1&apos;).asSequence().last()
var ls2=$group(&apos;clsa-dcs-images-f1.CarotidIntima:Measure.SIDE&apos;,&apos;Left&apos;,&apos;Measure.STILL_IMAGE_2&apos;).asSequence().last()
var ls3=$group(&apos;clsa-dcs-images-f1.CarotidIntima:Measure.SIDE&apos;,&apos;Left&apos;,&apos;Measure.STILL_IMAGE_3&apos;).asSequence().last()
var res=null
if(!rc.isNull().and(rsr.isNull(),rs1.isNull(),rs2.isNull(),rs3.isNull(),
   lc.isNull(),lsr.isNull(),ls1.isNull(),ls2.isNull(),ls3.isNull()).value()) {
  var str=[]
  str.push(&apos;filesize_left_cine:&apos;+(lc.isNull().value()?&apos;0&apos;:lc.length().value()))
  str.push(&apos;filesize_left_sr:&apos;+(lsr.isNull().value()?&apos;0&apos;:lsr.length().value()))
  str.push(&apos;filesize_left_still_1:&apos;+(ls1.isNull().value()?&apos;0&apos;:ls1.length().value()))
  str.push(&apos;filesize_left_still_2:&apos;+(ls2.isNull().value()?&apos;0&apos;:ls2.length().value()))
  str.push(&apos;filesize_left_still_3:&apos;+(ls3.isNull().value()?&apos;0&apos;:ls3.length().value()))
  str.push(&apos;filesize_right_cine:&apos;+(rc.isNull().value()?&apos;0&apos;:rc.length().value()))
  str.push(&apos;filesize_right_sr:&apos;+(rsr.isNull().value()?&apos;0&apos;:rsr.length().value()))
  str.push(&apos;filesize_right_still_1:&apos;+(rs1.isNull().value()?&apos;0&apos;:rs1.length().value()))
  str.push(&apos;filesize_right_still_2:&apos;+(rs2.isNull().value()?&apos;0&apos;:rs2.length().value()))
  str.push(&apos;filesize_right_still_3:&apos;+(rs3.isNull().value()?&apos;0&apos;:rs3.length().value()))
  res=newValue(&apos;{&apos;+str.join(&apos;,&apos;)+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_tug" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.TUG:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;TUG&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_tug" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;TUG&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_tug" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;TUG&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;TUG&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_tug" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_tug&apos;).isNull().and(
  $this(&apos;stage_contraindicated_tug&apos;).eq(0),
  $this(&apos;stage_skip_tug&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_tug" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var tt=$(&apos;clsa-dcs-f1.TUG:TUG_TIME&apos;).whenNull($(&apos;clsa-dcs-f1.TUG:TUG_TIME_2&apos;))
var res=null
if(tt.isNull().not().value()) {
  var wt=$(&apos;clsa-dcs-f1.4mWalk:WLK_TIME&apos;).whenNull($(&apos;clsa-dcs-f1.4mWalk:WLK_TIME_2&apos;))
  var ct=$(&apos;clsa-dcs-f1.ChairRise:CR_TIME&apos;).whenNull($(&apos;clsa-dcs-f1.ChairRise:CR_TIME_2&apos;))
  var str = &apos;0&apos;
  if(tt.isNull().not().and(ct.isNull().not()).value()) {
    var cv=ct.div($(&apos;clsa-dcs-f1.ChairRise:CR_NB&apos;).whenNull(1))
    str=Math.round(tt.minus(wt.multiply(1.5).plus(cv)).abs().value())
  }
  res=newValue(
    &apos;{time:&apos;+tt.round(3).value()+
    &apos;,congruency:&apos;+str+
    &apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_chair_rise" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.ChairRise:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;ChairRise&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_chair_rise" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;ChairRise&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_chair_rise" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;ChairRise&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;ChairRise&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_chair_rise" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_chair_rise&apos;).isNull().and(
  $this(&apos;stage_contraindicated_chair_rise&apos;).eq(0),
  $this(&apos;stage_skip_chair_rise&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_chair_rise" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var ct=$(&apos;clsa-dcs-f1.ChairRise:CR_TIME&apos;).whenNull($(&apos;clsa-dcs-f1.ChairRise:CR_TIME_2&apos;))
var res=null
if(ct.isNull().not().value()) {
  var wt=$(&apos;clsa-dcs-f1.4mWalk:WLK_TIME&apos;).whenNull($(&apos;clsa-dcs-f1.4mWalk:WLK_TIME_2&apos;))
  var tt=$(&apos;clsa-dcs-f1.TUG:TUG_TIME&apos;).whenNull($(&apos;clsa-dcs-f1.TUG:TUG_TIME_2&apos;))
  var str = &apos;0&apos;
  if(tt.isNull().not().and(ct.isNull().not()).value()) {
    var cv=ct.div($(&apos;clsa-dcs-f1.ChairRise:CR_NB&apos;).whenNull(1))
    str=Math.round(tt.minus(wt.multiply(1.5).plus(cv)).abs().value())
  }
  res=newValue(
    &apos;{time:&apos;+ct.round(3).value()+
    &apos;,congruency:&apos;+str+
    &apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_hips_waist" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.HipsWaist:InstrumentRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;HipsWaist&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_hips_waist" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;HipsWaist&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_hips_waist" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;HipsWaist&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;HipsWaist&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_hips_waist" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_hips_waist&apos;).isNull().and(
  $this(&apos;stage_contraindicated_hips_waist&apos;).eq(0),
  $this(&apos;stage_skip_hips_waist&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_hips_waist" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var i=$(&apos;clsa-dcs-f1.HipsWaist:IV_MEASURE_TAKEN&apos;)
var w=$(&apos;clsa-dcs-f1.HipsWaist:RES_WAIST_SIZE&apos;)
var h=$(&apos;clsa-dcs-f1.HipsWaist:RES_HIPS_SIZE&apos;)
var r=$(&apos;clsa-dcs-f1.HipsWaist:CALC_WAIST_TO_HIP_RATIO&apos;)
var res=null
if(!i.isNull().and(w.isNull(),h.isNull(),r.isNull()).value()) {
  var str=&apos;{iv_type:&apos;+(i.isNull().value()?&apos;NA&apos;:i.value())+&apos;,&apos;
  str+=&apos;size_waist:&apos;+(w.isNull().value()?&apos;0&apos;:w.value())+&apos;,&apos;
  str+=&apos;size_hips:&apos;+(h.isNull().value()?&apos;0&apos;:h.value())+&apos;,&apos;
  str+=&apos;ratio:&apos;+(r.isNull().value()?&apos;0&apos;:r.round(3).value())+&apos;}&apos;
  res=newValue(str,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_neuropsychological_battery" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.NeuropsychologicalBattery:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;NeuropsychologicalBattery&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_neuropsychological_battery" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;NeuropsychologicalBattery&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_neuropsychological_battery" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">// if a dcs by phone visit, then the skip will be &quot;ModifiedVisit&quot;
var res=null
if($(&apos;clsa-dcs-f1.Participants:DCS_PHONE&apos;).isNull().not().value()){
  res=newValue(&apos;ModifiedVisit&apos;,&apos;text&apos;)
} else {
  var action=$group(&apos;Admin.Action.stage&apos;,&apos;NeuropsychologicalBattery&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
  var res=$group(&apos;Admin.Action.stage&apos;,&apos;NeuropsychologicalBattery&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
      return action.indexOf(&apos;SKIP&apos;)==i
    }).last()
  if(res.isNull().not().value()) {
    res=newValue(res.value().slice(14),&apos;text&apos;)
  }
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_neuropsychological_battery" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_neuropsychological_battery&apos;).isNull().and(
  $this(&apos;stage_contraindicated_neuropsychological_battery&apos;).eq(0),
  $this(&apos;stage_skip_neuropsychological_battery&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_neuropsychological_battery" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var stage=&apos;clsa-dcs-f1.NeuropsychologicalBattery:&apos;
var p=$(stage+&apos;QuestionnaireMetric.missingCount&apos;).asSequence()
var q=$(stage+&apos;QuestionnaireMetric.questionCount&apos;).asSequence()
var res=null
if(p.isNull().and(q.isNull()).not().value() &amp;&amp; 0!=q.sum()) {
  var str=[]
  str.push(
    &apos;complete:&apos;+
    Math.round(q.sum().minus(p.sum()).multiply(100).div(q.sum()).value()))

var sections={
&apos;FAS&apos;:[
&apos;FAS_INSTRDY_COF1&apos;,
&apos;FAS_INSTRPT_COF1&apos;,
&apos;FAS_INSTFCTR_COF1&apos;,
&apos;FAS_INSTLST_COF1&apos;,
&apos;FAS_FRECR_COF1&apos;,
&apos;FAS_FCOMP_COF1&apos;,
&apos;FAS_FCOMP_COMM_COF1&apos;,
&apos;FAS_ARECR_COF1&apos;,
&apos;FAS_ACOMP_COF1&apos;,
&apos;FAS_ACOMP_COMM_COF1&apos;,
&apos;FAS_SRECR_COF1&apos;,
&apos;FAS_SCOMP_COF1&apos;,
&apos;FAS_SCOMP_COMM_COF1&apos;],
&apos;SN&apos;:[
&apos;SN_LIVH_COF1&apos;,
&apos;SN_LIVH_M2R_COF1&apos;,
&apos;SN_LIVH_M2S_COF1&apos;,
&apos;SN_LIVH_M2A_COF1&apos;,
&apos;SN_LIVH_M3R_COF1&apos;,
&apos;SN_LIVH_M3S_COF1&apos;,
&apos;SN_LIVH_M3A_COF1&apos;,
&apos;SN_LIVH_M4R_COF1&apos;,
&apos;SN_LIVH_M4S_COF1&apos;,
&apos;SN_LIVH_M4A_COF1&apos;,
&apos;SN_LIVH_M5R_COF1&apos;,
&apos;SN_LIVH_M5S_COF1&apos;,
&apos;SN_LIVH_M5A_COF1&apos;,
&apos;SN_LIVH_M6R_COF1&apos;,
&apos;SN_LIVH_M6S_COF1&apos;,
&apos;SN_LIVH_M6A_COF1&apos;,
&apos;SN_LIVH_M7R_COF1&apos;,
&apos;SN_LIVH_M7S_COF1&apos;,
&apos;SN_LIVH_M7A_COF1&apos;,
&apos;SN_LIVH_M8R_COF1&apos;,
&apos;SN_LIVH_M8S_COF1&apos;,
&apos;SN_LIVH_M8A_COF1&apos;,
&apos;SN_LIVH_M9R_COF1&apos;,
&apos;SN_LIVH_M9S_COF1&apos;,
&apos;SN_LIVH_M9A_COF1&apos;,
&apos;SN_LIVH_M10R_COF1&apos;,
&apos;SN_LIVH_M10S_COF1&apos;,
&apos;SN_LIVH_M10A_COF1&apos;,
&apos;SN_CHILD_COF1&apos;,
&apos;SN_CHILDBIO_COF1&apos;,
&apos;SN_CHILDADP_COF1&apos;,
&apos;SN_CHILDSTP_COF1&apos;,
&apos;SN_CHILDPR_COF1&apos;,
&apos;SN_CHILDSTPPR_COF1&apos;,
&apos;SN_DGHTRLIV_COF1&apos;,
&apos;SN_SONLIV_COF1&apos;,
&apos;SN_SEECHILD_COF1&apos;,
&apos;SN_SIBLIV_COF1&apos;,
&apos;SN_SEESIB_COF1&apos;,
&apos;SN_RELLIV_COF1&apos;,
&apos;SN_SEEREL_COF1&apos;,
&apos;SN_FRND_COF1&apos;,
&apos;SN_SEEFRND_COF1&apos;,
&apos;SN_NEIBR_COF1&apos;,
&apos;SN_SEENEIBR_COF1&apos;,
&apos;SN_PERWSCH_COF1&apos;,
&apos;SN_PERCOM_COF1&apos;,
&apos;SN_PERACT_COF1&apos;],
&apos;SPA&apos;:[
&apos;SPA_SOAC_COF1&apos;,
&apos;SPA_OUTS_COF1&apos;,
&apos;SPA_CHRCH_COF1&apos;,
&apos;SPA_SPORT_COF1&apos;,
&apos;SPA_EDUC_COF1&apos;,
&apos;SPA_CLUB_COF1&apos;,
&apos;SPA_NEIBR_COF1&apos;,
&apos;SPA_VOLUN_COF1&apos;,
&apos;SPA_OTACT_COF1&apos;,
&apos;SPA_MORAC_COF1&apos;,
&apos;SPA_PREVAC_COF1&apos;,
&apos;SPA_COHES_COF1&apos;],
&apos;SSA&apos;:[
&apos;SSA_CONFBED_COF1&apos;,
&apos;SSA_NDTLK_COF1&apos;,
&apos;SSA_CRISIS_COF1&apos;,
&apos;SSA_TYTDR_COF1&apos;,
&apos;SSA_SHLOV_COF1&apos;,
&apos;SSA_GOODT_COF1&apos;,
&apos;SSA_INFO_COF1&apos;,
&apos;SSA_CONFID_COF1&apos;,
&apos;SSA_HUGS_COF1&apos;,
&apos;SSA_RELAX_COF1&apos;,
&apos;SSA_MEALS_COF1&apos;,
&apos;SSA_ADVCE_COF1&apos;,
&apos;SSA_MINDOFF_COF1&apos;,
&apos;SSA_CHORES_COF1&apos;,
&apos;SSA_SHFEAR_COF1&apos;,
&apos;SSA_SUGG_COF1&apos;,
&apos;SSA_ENJOY_COF1&apos;,
&apos;SSA_PROBLM_COF1&apos;,
&apos;SSA_LOVU_COF1&apos;,
&apos;SSA_PET_COF1&apos;],
&apos;STP&apos;:[
&apos;NEUR_CONSREC_COF1&apos;,
&apos;STP_DOT_COF1&apos;,
&apos;STP_DOTRPT_COF1&apos;,
&apos;STP_DOTFCTR_COF1&apos;,
&apos;STP_DOTLST_COF1&apos;,
&apos;STP_DOTRECR_COF1&apos;,
&apos;STP_DOTABLE_COF1&apos;,
&apos;STP_DOTTIMEN_COF1&apos;,
&apos;STP_WOR_COF1&apos;,
&apos;STP_WORRPT_COF1&apos;,
&apos;STP_WORFCTR_COF1&apos;,
&apos;STP_WORLST_COF1&apos;,
&apos;STP_WORRECR_COF1&apos;,
&apos;STP_WORABLE_COF1&apos;,
&apos;STP_WORTIMEN_COF1&apos;,
&apos;STP_COL_COF1&apos;,
&apos;STP_COLRPT_COF1&apos;,
&apos;STP_COLFCTR_COF1&apos;,
&apos;STP_COLLST_COF1&apos;,
&apos;STP_COLRECR_COF1&apos;,
&apos;STP_COLABLE_COF1&apos;,
&apos;STP_COLTIMEN_COF1&apos;,
&apos;STP_COLCOMM_COF1&apos;]
}

  var skip=[]
  if($(stage+&apos;QuestionnaireRun.version&apos;).any(&apos;4.0&apos;).value()) {
    skip.push(&apos;STP&apos;)
  }

  for(var key in sections) {
    if(-1!=skip.indexOf(key)) {
      str.push(key+&apos;:0&apos;)
      continue
    }
    var rcount=0
    var qcount=0
    var arr=sections[key]
    for(var i=0; i&lt;arr.length; i++ ) {
      var j=$(stage+arr[i])
      if(j.isNull().value()) continue
      qcount++
      rcount+=j.any(&apos;REFUSED&apos;).value()?1:0
    }
    if(0==qcount) {
      str.push(key+&apos;:100&apos;)
    } else {
      var perc=100.0*rcount/qcount
      if(0&lt;perc &amp;&amp; 100&gt;perc &amp;&amp; 0!=(perc-Math.floor(perc))) {
        perc=perc.toFixed(3)
      }
      str.push(key+&apos;:&apos;+perc)
    }
  }

  res=newValue(&apos;{&apos;+str.join(&apos;,&apos;)+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_standing_balance" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.StandingBalance:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;StandingBalance&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_standing_balance" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;StandingBalance&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_standing_balance" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;StandingBalance&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;StandingBalance&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
} else {
  var l1=$(&apos;clsa-dcs-f1.StandingBalance:STAND_COMPLETION_LEFT&apos;)
  var r1=$(&apos;clsa-dcs-f1.StandingBalance:STAND_COMPLETION_RIGHT&apos;)
  if(l1.any(&apos;NO&apos;).value()) {
    var l2=$(&apos;clsa-dcs-f1.StandingBalance:STAND_UNCOMPLETE_LEFT&apos;).map({
      &apos;TECHNICAL&apos;:&apos;TechnicalProblem&apos;,
      &apos;PARTICIPANT-DECISION&apos;:&apos;ParticipantDecision&apos;,
      &apos;INTERVIEWER-DECISION&apos;:&apos;InterviewerDecision&apos;,
      &apos;OTHER-SPEFICY&apos;:&apos;SeeComment&apos;},null)
    if(l2.isNull().not().value()) {
      res=l2
    }
  }
  if (null===res &amp;&amp; r1.any(&apos;NO&apos;).value()) {
    var r2=$(&apos;clsa-dcs-f1.StandingBalance:STAND_UNCOMPLETE_RIGHT&apos;).map({
      &apos;TECHNICAL&apos;:&apos;TechnicalProblem&apos;,
      &apos;PARTICIPANT-DECISION&apos;:&apos;ParticipantDecision&apos;,
      &apos;INTERVIEWER-DECISION&apos;:&apos;InterviewerDecision&apos;,
      &apos;OTHER-SPEFICY&apos;:&apos;SeeComment&apos;},null)
    if(r2.isNull().not().value()) {
      res=r2
    }
  }
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_standing_balance" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_standing_balance&apos;).isNull().and(
  $this(&apos;stage_contraindicated_standing_balance&apos;).eq(0),
  $this(&apos;stage_skip_standing_balance&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_standing_balance" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var b=$(&apos;clsa-dcs-f1.StandingBalance:STAND_BEST&apos;).whenNull($(&apos;clsa-dcs-f1.StandingBalance:STAND_BEST_2&apos;))
var lc =$(&apos;clsa-dcs-f1.StandingBalance:STAND_COMPLETION_LEFT&apos;)
var rc =$(&apos;clsa-dcs-f1.StandingBalance:STAND_COMPLETION_RIGHT&apos;)
var res=null
if(!b.isNull().and(lc.isNull(),rc.isNull()).value()) {
  var str = &apos;{time_best:&apos;
  if(b.isNull().not().value()) {
    str+=b.round(3).value()
  } else  {
    str+=&apos;-1&apos;
  }
  var l=$(&apos;clsa-dcs-f1.StandingBalance:STAND_LEFT_TIME&apos;).whenNull($(&apos;clsa-dcs-f1.StandingBalance:STAND_LEFT_TIME_2&apos;))
  str+=&apos;,time_left:&apos;
  if(l.isNull().not().value()) {
    str+=l.round(3).value()
  } else  {
    str+=&apos;-1&apos;
  }
  var r=$(&apos;clsa-dcs-f1.StandingBalance:STAND_RIGHT_TIME&apos;).whenNull($(&apos;clsa-dcs-f1.StandingBalance:STAND_RIGHT_TIME_2&apos;))
  str+=&apos;,time_right:&apos;
  if(r.isNull().not().value()) {
    str+=r.round(3).value()
  } else  {
    str+=&apos;-1&apos;
  }
  str+=&apos;}&apos;
  res=newValue(str,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_four_metre_walk" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.4mWalk:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;4mWalk&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_four_metre_walk" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;4mWalk&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_four_metre_walk" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;4mWalk&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;4mWalk&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_four_metre_walk" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_four_metre_walk&apos;).isNull().and(
  $this(&apos;stage_contraindicated_four_metre_walk&apos;).eq(0),
  $this(&apos;stage_skip_four_metre_walk&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_four_metre_walk" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var wt=$(&apos;clsa-dcs-f1.4mWalk:WLK_TIME&apos;).whenNull($(&apos;clsa-dcs-f1.4mWalk:WLK_TIME_2&apos;))
var res=null
if(wt.isNull().not().value()) {
  var tt=$(&apos;clsa-dcs-f1.TUG:TUG_TIME&apos;).whenNull($(&apos;clsa-dcs-f1.TUG:TUG_TIME_2&apos;))
  var ct=$(&apos;clsa-dcs-f1.ChairRise:CR_TIME&apos;).whenNull($(&apos;clsa-dcs-f1.ChairRise:CR_TIME_2&apos;))
  var str = &apos;0&apos;
  if(tt.isNull().not().and(ct.isNull().not()).value()) {
    var cv=ct.div($(&apos;clsa-dcs-f1.ChairRise:CR_NB&apos;).whenNull(1))
    str=Math.round(tt.minus(wt.multiply(1.5).plus(cv)).abs().value())
  }
  res=newValue(
    &apos;{time:&apos;+wt.round(3).value()+
    &apos;,congruency:&apos;+str+
    &apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_vision_acuity" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.VisionAcuity:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;VisionAcuity&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_vision_acuity" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;VisionAcuity&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_vision_acuity" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;VisionAcuity&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;VisionAcuity&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
} else {
  var tests=[&apos;DONE_VA&apos;,&apos;DONE_BOTH_VA&apos;,&apos;DONE_LEFT_VA&apos;,&apos;DONE_RIGHT_VA&apos;,&apos;DONE_LEFT_PO_VA&apos;,&apos;DONE_RIGHT_PO_VA&apos;]
  var reasons=[&apos;DONE_RSN_VA&apos;,&apos;DONE_RSN_BOTH_VA&apos;,&apos;DONE_RSN_LEFT_VA&apos;,&apos;DONE_RSN_RIGHT_VA&apos;,&apos;DONE_RSN_LEFT_PO_VA&apos;,&apos;DONE_RSN_RIGHT_PO_VA&apos;]
  for(var i=0;i&lt;tests.length;i++) {
    var t=$(&apos;clsa-dcs-f1.VisionAcuity:&apos;+tests[i])
    if(t.any(&apos;NO&apos;).value()) {
      var r=$(&apos;clsa-dcs-f1.VisionAcuity:&apos;+reasons[i]).map({
      &apos;TECHNICAL-PROBLEM&apos;:&apos;TechnicalProblem&apos;,
      &apos;PARTICIPANT-DECISION&apos;:&apos;ParticipantDecision&apos;,
      &apos;INTERVIEWER-DECISION&apos;:&apos;InterviewerDecision&apos;,
      &apos;OTHER&apos;:&apos;SeeComment&apos;},null)
      if(r.isNull().not().value()) {
        res=r
        break
      }
    }
  }
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_vision_acuity" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_vision_acuity&apos;).isNull().and(
  $this(&apos;stage_contraindicated_vision_acuity&apos;).eq(0),
  $this(&apos;stage_skip_vision_acuity&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_vision_acuity" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var count = {RIGHT:0,LEFT:0}
var rtests=[&apos;DONE_RIGHT_VA&apos;,&apos;DONE_RIGHT_PO_VA&apos;]
var ltests=[&apos;DONE_LEFT_VA&apos;,&apos;DONE_LEFT_PO_VA&apos;]
var n=0
for(var i=0;i&lt;2;i++) {
  var t=$(&apos;clsa-dcs-f1.VisionAcuity:&apos;+rtests[i])
  if(t.isNull().value()) {
    n++
  } else if(t.any(&apos;YES&apos;).value()) {
    count[&apos;RIGHT&apos;]++
  }
  t=$(&apos;clsa-dcs-f1.VisionAcuity:&apos;+ltests[i])
  if(t.isNull().value()) {
    n++
  } else if(t.any(&apos;YES&apos;).value()) {
    count[&apos;LEFT&apos;]++
  }
}
var res=null
if(4!=n) {
  res=newValue(
    &apos;{left_test:&apos;+count[&apos;LEFT&apos;]+
    &apos;,right_test:&apos;+count[&apos;RIGHT&apos;]+
    &apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_event_pmt" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.EventPMT:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;EventPMT&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_event_pmt" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;EventPMT&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;EventPMT&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_event_pmt" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;EventPMT&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_event_pmt" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var stage=&apos;clsa-dcs-f1.EventPMT:&apos;
var p=$(stage+&apos;QuestionnaireMetric.missingCount&apos;).asSequence()
var q=$(stage+&apos;QuestionnaireMetric.questionCount&apos;).asSequence()
var res=null
if(p.isNull().and(q.isNull()).not().value() &amp;&amp; 0!=q.sum()) {
  var str=[]
  str.push(
    &apos;complete:&apos;+
    Math.round(q.sum().minus(p.sum()).multiply(100).div(q.sum()).value()))

var sections={
&apos;PMT&apos;:[
&apos;PMT_ABLE_COF1&apos;,
&apos;PMT_FCT_COF1&apos;,
&apos;PMT_TIM_COF1&apos;,
&apos;PMT_NOCUE_COF1&apos;,
&apos;PMT_ENV_COF1&apos;,
&apos;PMT_ENV_OBS_COF1&apos;,
&apos;PMT_MONEY_COF1&apos;,
&apos;PMT_MONEY_OBS_COF1&apos;,
&apos;PMT_ITP_COF1&apos;,
&apos;PMT_ACR_COF1&apos;,
&apos;PMT_REM_COF1&apos;]
}

  for(var key in sections) {
    var rcount=0
    var qcount=0
    var arr=sections[key]
    for(var i=0; i&lt;arr.length; i++ ) {
      var j=$(stage+arr[i])
      if(j.isNull().value()) continue
      qcount++
      rcount+=j.any(&apos;REFUSED&apos;).value()?1:0
    }
    if(0==qcount) {
      str.push(key+&apos;:100&apos;)
    } else {
      var perc=100.0*rcount/qcount
      if(0&lt;perc &amp;&amp; 100&gt;perc &amp;&amp; 0!=(perc-Math.floor(perc))) {
        perc=perc.toFixed(3)
      }
      str.push(key+&apos;:&apos;+perc)
    }
  }

  res=newValue(&apos;{&apos;+str.join(&apos;,&apos;)+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_event_pmt" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_event_pmt&apos;).isNull().and(
  $this(&apos;stage_contraindicated_event_pmt&apos;).eq(0),
  $this(&apos;stage_skip_event_pmt&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_disease_symptoms" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.DiseaseSymptoms:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;DiseaseSymptoms&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_disease_symptoms" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;DiseaseSymptoms&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;DiseaseSymptoms&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_disease_symptoms" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;DiseaseSymptoms&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_disease_symptoms" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var stage=&apos;clsa-dcs-f1.DiseaseSymptoms:&apos;
var p=$(stage+&apos;QuestionnaireMetric.missingCount&apos;).asSequence()
var q=$(stage+&apos;QuestionnaireMetric.questionCount&apos;).asSequence()
var res=null
if(p.isNull().and(q.isNull()).not().value() &amp;&amp; 0!=q.sum()) {
  var str=[]
  str.push(
    &apos;complete:&apos;+
    Math.round(q.sum().minus(p.sum()).multiply(100).div(q.sum()).value()))

var sections={
&apos;CAO&apos;:[
&apos;CCC_ASTHM_COF1&apos;,
&apos;CCC_ASTHM_CHANGE_COF1&apos;,
&apos;CAO_ASTHMAGE_COF1&apos;,
&apos;CAO_WHEZ_COF1&apos;,
&apos;CAO_SOBFLAT_COF1&apos;,
&apos;CAO_EXERT_COF1&apos;,
&apos;CAO_SOBUP_COF1&apos;,
&apos;CAO_SOBPM_COF1&apos;,
&apos;CAO_WKWHEZ_COF1&apos;,
&apos;CAO_WKCOF_COF1&apos;,
&apos;CAO_WKSOB_COF1&apos;,
&apos;CCC_COPD_COF1&apos;,
&apos;CCC_COPD_CHANGE_COF1&apos;,
&apos;CAO_COPDAGE_COF1&apos;,
&apos;CAO_COLD_COF1&apos;,
&apos;CAO_COFPY_COF1&apos;,
&apos;CAO_COFAM_COF1&apos;,
&apos;CAO_COFMAM_COF1&apos;,
&apos;CAO_PHLEGMPY_COF1&apos;,
&apos;CAO_MED_COF1&apos;,
&apos;CAO_MEDNAME_COF1&apos;,
&apos;CAO_MED_1_COF1&apos;,
&apos;CAO_MED_2_COF1&apos;,
&apos;CAO_MED_3_COF1&apos;,
&apos;CAO_MED_4_COF1&apos;,
&apos;CAO_MED_5_COF1&apos;,
&apos;CAO_MED_6_COF1&apos;,
&apos;CAO_MED_7_COF1&apos;,
&apos;CAO_MED_8_COF1&apos;,
&apos;CAO_MED_9_COF1&apos;,
&apos;CAO_MED_10_COF1&apos;,
&apos;CAO_MED_11_COF1&apos;,
&apos;CAO_MED_12_COF1&apos;,
&apos;CAO_MED_13_COF1&apos;,
&apos;CAO_MED_14_COF1&apos;,
&apos;CAO_MED_15_COF1&apos;,
&apos;CAO_MED_16_COF1&apos;,
&apos;CAO_MED_17_COF1&apos;,
&apos;CAO_MED_18_COF1&apos;,
&apos;CAO_MED_19_COF1&apos;,
&apos;CAO_MED_20_COF1&apos;,
&apos;CAO_MED_21_COF1&apos;,
&apos;CAO_MED_22_COF1&apos;,
&apos;CAO_MED_23_COF1&apos;,
&apos;CAO_MED_24_COF1&apos;,
&apos;CAO_MED_25_COF1&apos;,
&apos;CAO_MED_26_COF1&apos;,
&apos;CAO_MED_27_COF1&apos;,
&apos;CAO_MED_28_COF1&apos;,
&apos;CAO_MED_29_COF1&apos;,
&apos;CAO_MED_30_COF1&apos;,
&apos;CAO_MED_31_COF1&apos;,
&apos;CAO_MED_32_COF1&apos;,
&apos;CAO_MED_33_COF1&apos;,
&apos;CAO_MED_34_COF1&apos;,
&apos;CAO_MED_35_COF1&apos;,
&apos;CAO_MED_36_COF1&apos;,
&apos;CAO_MED_37_COF1&apos;,
&apos;CAO_MED_38_COF1&apos;,
&apos;CAO_MED_39_COF1&apos;,
&apos;CAO_MED_40_COF1&apos;],
&apos;CCC_CANCER&apos;:[
&apos;CCC_CANC_COF1&apos;,
&apos;CCC_CANCAGE_COF1&apos;,
&apos;CCC_CANC_CHANGE_COF1&apos;,
&apos;CCC_CANTP_COF1&apos;],
&apos;CCC_CARDIAC&apos;:[
&apos;CCC_HEART_COF1&apos;,
&apos;CCC_HEARTAGE_COF1&apos;,
&apos;CCC_HEARTCHANGE_COF1&apos;,
&apos;CCC_PVD_COF1&apos;,
&apos;CCC_PVDAGE_COF1&apos;,
&apos;CCC_PVD_CHANGE_COF1&apos;],
&apos;CCC_GASTRO&apos;:[
&apos;CCC_ULCR_COF1&apos;,
&apos;CCC_ULCRAGE_COF1&apos;,
&apos;CCC_ULCR_CHANGE_COF1&apos;,
&apos;CCC_IBDIBS_COF1&apos;,
&apos;CCC_IBDIBSAGE_COF1&apos;,
&apos;CCC_IBDIBS_CHANGE_COF1&apos;,
&apos;CCC_BOWINC_COF1&apos;,
&apos;CCC_BOWINCAGE_COF1&apos;,
&apos;CCC_URIINC_COF1&apos;,
&apos;CCC_URIINCAGE_COF1&apos;],
&apos;CCC_INFECTION&apos;:[
&apos;CCC_DRPNEU_COF1&apos;,
&apos;CCC_DRFLU_COF1&apos;,
&apos;CCC_DRUTI_COF1&apos;,
&apos;CCC_DROT_COF1&apos;,
&apos;CCC_DROTSP_COF1&apos;],
&apos;CCC_MENTAL&apos;:[
&apos;CCC_ANXI_COF1&apos;,
&apos;CCC_ANXIAGE_COF1&apos;,
&apos;CCC_ANXI_CHANGE_COF1&apos;,
&apos;CCC_MOOD_COF1&apos;,
&apos;CCC_MOODAGE_COF1&apos;,
&apos;CCC_MOOD_CHANGE_COF1&apos;],
&apos;CCC_NEURO&apos;:[
&apos;CCC_MEMPB_COF1&apos;,
&apos;CCC_MEMPBAGE_COF1&apos;,
&apos;CCC_MEMPB_CHANGE_COF1&apos;,
&apos;CCC_ALZH_COF1&apos;,
&apos;CCC_ALZHAGE_COF1&apos;,
&apos;CCC_ALZH_CHANGE_COF1&apos;,
&apos;CCC_MS_COF1&apos;,
&apos;CCC_MSAGE_COF1&apos;,
&apos;CCC_MS_CHANGE_COF1&apos;,
&apos;CCC_EPIL_COF1&apos;,
&apos;CCC_EPILAGE_COF1&apos;,
&apos;CCC_EPIL_CHANGE_COF1&apos;,
&apos;CCC_MGRN_COF1&apos;,
&apos;CCC_MGRNAGE_COF1&apos;,
&apos;CCC_MGRN_CHANGE_COF1&apos;],
&apos;CCC_OTHER&apos;:[
&apos;CCC_ALLRG_COF1&apos;,
&apos;CCC_ALLRGAGE_COF1&apos;,
&apos;CCC_ALLRG_CHANGE_COF1&apos;,
&apos;CCC_BCKP_COF1&apos;,
&apos;CCC_BCKPAGE_COF1&apos;,
&apos;CCC_BCKP_CHANGE_COF1&apos;,
&apos;CCC_KIDN_COF1&apos;,
&apos;CCC_KIDNAGE_COF1&apos;,
&apos;CCC_KIDN_CHANGE_COF1&apos;,
&apos;CCC_DITYP_COF1&apos;,
&apos;CCC_DITIM_COF1&apos;,
&apos;CCC_HCV_COF1&apos;,
&apos;CCC_HCVAGE_COF1&apos;,
&apos;CCC_HCV_TRT_COF1&apos;,
&apos;CCC_HCV_TXS_COF1&apos;,
&apos;CCC_HCV_CURR_COF1&apos;,
&apos;CCC_OTCCC_COF1&apos;],
&apos;CCC_VISION&apos;:[
&apos;CCC_MACDEG_COF1&apos;,
&apos;CCC_MACDEGAGE_COF1&apos;,
&apos;CCC_MACDEG_CHANGE_COF1&apos;],
&apos;DEP&apos;:[
&apos;DEP_BOTR_COF1&apos;,
&apos;DEP_MIND_COF1&apos;,
&apos;DEP_FLDP_COF1&apos;,
&apos;DEP_FFRT_COF1&apos;,
&apos;DEP_HPFL_COF1&apos;,
&apos;DEP_FRFL_COF1&apos;,
&apos;DEP_RSTLS_COF1&apos;,
&apos;DEP_HAPP_COF1&apos;,
&apos;DEP_LONLY_COF1&apos;,
&apos;DEP_GTGO_COF1&apos;],
&apos;DIA&apos;:[
&apos;DIA_DIAB_COF1&apos;,
&apos;DIA_DIAB_CHANGE_COF1&apos;,
&apos;DIA_TYPE_COF1&apos;,
&apos;DIA_AGE_COF1&apos;,
&apos;DIA_DIABRT_COF1&apos;,
&apos;DIA_DIABRTAGE_COF1&apos;,
&apos;DIA_EVPRG_COF1&apos;,
&apos;DIA_PRGDIA_COF1&apos;,
&apos;DIA_MED_COF1&apos;,
&apos;DIA_MEDNAME_COF1&apos;,
&apos;DIA_MEDINSNAME_COF1&apos;,
&apos;DIA_MED_1_COF1&apos;,
&apos;DIA_MED_2_COF1&apos;,
&apos;DIA_MED_3_COF1&apos;,
&apos;DIA_MED_4_COF1&apos;,
&apos;DIA_MED_5_COF1&apos;,
&apos;DIA_MED_6_COF1&apos;,
&apos;DIA_MED_7_COF1&apos;,
&apos;DIA_MED_8_COF1&apos;,
&apos;DIA_MED_9_COF1&apos;,
&apos;DIA_MED_10_COF1&apos;,
&apos;DIA_MED_11_COF1&apos;,
&apos;DIA_MED_12_COF1&apos;,
&apos;DIA_MED_13_COF1&apos;,
&apos;DIA_MED_14_COF1&apos;,
&apos;DIA_MED_15_COF1&apos;,
&apos;DIA_MED_16_COF1&apos;,
&apos;DIA_MED_17_COF1&apos;,
&apos;DIA_MED_18_COF1&apos;,
&apos;DIA_MED_19_COF1&apos;,
&apos;DIA_MED_20_COF1&apos;,
&apos;DIA_MED_21_COF1&apos;,
&apos;DIA_MED_22_COF1&apos;,
&apos;DIA_MED_23_COF1&apos;,
&apos;DIA_MED_24_COF1&apos;,
&apos;DIA_MED_25_COF1&apos;,
&apos;DIA_MED_26_COF1&apos;,
&apos;DIA_MED_27_COF1&apos;,
&apos;DIA_MED_28_COF1&apos;,
&apos;DIA_MED_29_COF1&apos;,
&apos;DIA_MED_30_COF1&apos;,
&apos;DIA_MED_31_COF1&apos;,
&apos;DIA_MED_32_COF1&apos;,
&apos;DIA_MED_33_COF1&apos;,
&apos;DIA_MED_34_COF1&apos;,
&apos;DIA_MED_35_COF1&apos;,
&apos;DIA_MED_36_COF1&apos;,
&apos;DIA_MED_37_COF1&apos;,
&apos;DIA_MED_38_COF1&apos;,
&apos;DIA_MED_39_COF1&apos;,
&apos;DIA_MED_40_COF1&apos;,
&apos;DIA_MEDAGE_COF1&apos;],
&apos;DPR&apos;:[
&apos;DPR_CLINDEP_COF1&apos;,
&apos;DPR_CLINDEP_CHANGE_COF1&apos;,
&apos;DPR_AGE_COF1&apos;,
&apos;DPR_MED_COF1&apos;,
&apos;DPR_MEDNAME_COF1&apos;,
&apos;DPR_MED_1_COF1&apos;,
&apos;DPR_MED_2_COF1&apos;,
&apos;DPR_MED_3_COF1&apos;,
&apos;DPR_MED_4_COF1&apos;,
&apos;DPR_MED_5_COF1&apos;,
&apos;DPR_MED_6_COF1&apos;,
&apos;DPR_MED_7_COF1&apos;,
&apos;DPR_MED_8_COF1&apos;,
&apos;DPR_MED_9_COF1&apos;,
&apos;DPR_MED_10_COF1&apos;,
&apos;DPR_MED_11_COF1&apos;,
&apos;DPR_MED_12_COF1&apos;,
&apos;DPR_MED_13_COF1&apos;,
&apos;DPR_MED_14_COF1&apos;,
&apos;DPR_MED_15_COF1&apos;,
&apos;DPR_MED_16_COF1&apos;,
&apos;DPR_MED_17_COF1&apos;,
&apos;DPR_MED_18_COF1&apos;,
&apos;DPR_MED_19_COF1&apos;,
&apos;DPR_MED_20_COF1&apos;,
&apos;DPR_MED_21_COF1&apos;,
&apos;DPR_MED_22_COF1&apos;,
&apos;DPR_MED_23_COF1&apos;,
&apos;DPR_MED_24_COF1&apos;,
&apos;DPR_MED_25_COF1&apos;,
&apos;DPR_MED_26_COF1&apos;,
&apos;DPR_MED_27_COF1&apos;,
&apos;DPR_MED_28_COF1&apos;,
&apos;DPR_MED_29_COF1&apos;,
&apos;DPR_MED_30_COF1&apos;,
&apos;DPR_MED_31_COF1&apos;,
&apos;DPR_MED_32_COF1&apos;,
&apos;DPR_MED_33_COF1&apos;,
&apos;DPR_MED_34_COF1&apos;,
&apos;DPR_MED_35_COF1&apos;,
&apos;DPR_MED_36_COF1&apos;,
&apos;DPR_MED_37_COF1&apos;,
&apos;DPR_MED_38_COF1&apos;,
&apos;DPR_MED_39_COF1&apos;,
&apos;DPR_MED_40_COF1&apos;,
&apos;DPR_OTHMD_COF1&apos;,
&apos;DPR_EVRMED_COF1&apos;],
&apos;EPI&apos;:[
&apos;EPI_EVER_COF1&apos;,
&apos;EPI_MED_COF1&apos;,
&apos;EPI_CAUS_FEV_COF1&apos;,
&apos;EPI_CAUS_SEIZ_COF1&apos;,
&apos;EPI_CAUS_TWIT_COF1&apos;,
&apos;EPI_CAUS_MENT_COF1&apos;,
&apos;EPI_CAUS_DREM_COF1&apos;,
&apos;EPI_CAUS_BDMV_COF1&apos;,
&apos;EPI_CAUS_JERK_COF1&apos;,
&apos;EPI_CAUS_SPEL_COF1&apos;,
&apos;EPI_EPILSZ_COF1&apos;,
&apos;EPI_CURRMED_COF1&apos;],
&apos;HBP&apos;:[
&apos;CCC_HBP_COF1&apos;,
&apos;CCC_HBP_CHANGE_COF1&apos;,
&apos;HBP_AGE_COF1&apos;,
&apos;HBP_PRG_COF1&apos;,
&apos;HBP_OTPRG_COF1&apos;,
&apos;HBP_MED_COF1&apos;,
&apos;HBP_MEDNAME_COF1&apos;,
&apos;HBP_MED_1_COF1&apos;,
&apos;HBP_MED_2_COF1&apos;,
&apos;HBP_MED_3_COF1&apos;,
&apos;HBP_MED_4_COF1&apos;,
&apos;HBP_MED_5_COF1&apos;,
&apos;HBP_MED_6_COF1&apos;,
&apos;HBP_MED_7_COF1&apos;,
&apos;HBP_MED_8_COF1&apos;,
&apos;HBP_MED_9_COF1&apos;,
&apos;HBP_MED_10_COF1&apos;,
&apos;HBP_MED_11_COF1&apos;,
&apos;HBP_MED_12_COF1&apos;,
&apos;HBP_MED_13_COF1&apos;,
&apos;HBP_MED_14_COF1&apos;,
&apos;HBP_MED_15_COF1&apos;,
&apos;HBP_MED_16_COF1&apos;,
&apos;HBP_MED_17_COF1&apos;,
&apos;HBP_MED_18_COF1&apos;,
&apos;HBP_MED_19_COF1&apos;,
&apos;HBP_MED_20_COF1&apos;,
&apos;HBP_MED_21_COF1&apos;,
&apos;HBP_MED_22_COF1&apos;,
&apos;HBP_MED_23_COF1&apos;,
&apos;HBP_MED_24_COF1&apos;,
&apos;HBP_MED_25_COF1&apos;,
&apos;HBP_MED_26_COF1&apos;,
&apos;HBP_MED_27_COF1&apos;,
&apos;HBP_MED_28_COF1&apos;,
&apos;HBP_MED_29_COF1&apos;,
&apos;HBP_MED_30_COF1&apos;,
&apos;HBP_MED_31_COF1&apos;,
&apos;HBP_MED_32_COF1&apos;,
&apos;HBP_MED_33_COF1&apos;,
&apos;HBP_MED_34_COF1&apos;,
&apos;HBP_MED_35_COF1&apos;,
&apos;HBP_MED_36_COF1&apos;,
&apos;HBP_MED_37_COF1&apos;,
&apos;HBP_MED_38_COF1&apos;,
&apos;HBP_MED_39_COF1&apos;,
&apos;HBP_MED_40_COF1&apos;,
&apos;HBP_EVRMED_COF1&apos;,
&apos;HBP_TRT_COF1&apos;,
&apos;HBP_EVTRT_COF1&apos;],
&apos;HYP&apos;:[
&apos;CCC_UTHYR_COF1&apos;,
&apos;CCC_UTHYR_CHANGE_COF1&apos;,
&apos;HYP_UTHYRAGE_COF1&apos;,
&apos;HYP_UTHYRMED_COF1&apos;,
&apos;HYP_UTHYRMEDNAME_COF1&apos;,
&apos;HYP_UTHYRMED_1_COF1&apos;,
&apos;HYP_UTHYRMED_2_COF1&apos;,
&apos;HYP_UTHYRMED_3_COF1&apos;,
&apos;HYP_UTHYRMED_4_COF1&apos;,
&apos;HYP_UTHYRMED_5_COF1&apos;,
&apos;HYP_UTHYRMED_6_COF1&apos;,
&apos;HYP_UTHYRMED_7_COF1&apos;,
&apos;HYP_UTHYRMED_8_COF1&apos;,
&apos;HYP_UTHYRMED_9_COF1&apos;,
&apos;HYP_UTHYRMED_10_COF1&apos;,
&apos;HYP_UTHYRMED_11_COF1&apos;,
&apos;HYP_UTHYRMED_12_COF1&apos;,
&apos;HYP_UTHYRMED_13_COF1&apos;,
&apos;HYP_UTHYRMED_14_COF1&apos;,
&apos;HYP_UTHYRMED_15_COF1&apos;,
&apos;HYP_UTHYRMED_16_COF1&apos;,
&apos;HYP_UTHYRMED_17_COF1&apos;,
&apos;HYP_UTHYRMED_18_COF1&apos;,
&apos;HYP_UTHYRMED_19_COF1&apos;,
&apos;HYP_UTHYRMED_20_COF1&apos;,
&apos;HYP_UTHYRMED_21_COF1&apos;,
&apos;HYP_UTHYRMED_22_COF1&apos;,
&apos;HYP_UTHYRMED_23_COF1&apos;,
&apos;HYP_UTHYRMED_24_COF1&apos;,
&apos;HYP_UTHYRMED_25_COF1&apos;,
&apos;HYP_UTHYRMED_26_COF1&apos;,
&apos;HYP_UTHYRMED_27_COF1&apos;,
&apos;HYP_UTHYRMED_28_COF1&apos;,
&apos;HYP_UTHYRMED_29_COF1&apos;,
&apos;HYP_UTHYRMED_30_COF1&apos;,
&apos;HYP_UTHYRMED_31_COF1&apos;,
&apos;HYP_UTHYRMED_32_COF1&apos;,
&apos;HYP_UTHYRMED_33_COF1&apos;,
&apos;HYP_UTHYRMED_34_COF1&apos;,
&apos;HYP_UTHYRMED_35_COF1&apos;,
&apos;HYP_UTHYRMED_36_COF1&apos;,
&apos;HYP_UTHYRMED_37_COF1&apos;,
&apos;HYP_UTHYRMED_38_COF1&apos;,
&apos;HYP_UTHYRMED_39_COF1&apos;,
&apos;HYP_UTHYRMED_40_COF1&apos;,
&apos;HYP_UTHYREVRMED_COF1&apos;,
&apos;CCC_OTHYR_COF1&apos;,
&apos;CCC_OTHYR_CHANGE_COF1&apos;,
&apos;HYP_OTHYRAGE_COF1&apos;,
&apos;HYP_OTHYRMED_COF1&apos;,
&apos;HYP_OTHYRMEDNAME_COF1&apos;,
&apos;HYP_OTHYRMED_1_COF1&apos;,
&apos;HYP_OTHYRMED_2_COF1&apos;,
&apos;HYP_OTHYRMED_3_COF1&apos;,
&apos;HYP_OTHYRMED_4_COF1&apos;,
&apos;HYP_OTHYRMED_5_COF1&apos;,
&apos;HYP_OTHYRMED_6_COF1&apos;,
&apos;HYP_OTHYRMED_7_COF1&apos;,
&apos;HYP_OTHYRMED_8_COF1&apos;,
&apos;HYP_OTHYRMED_9_COF1&apos;,
&apos;HYP_OTHYRMED_10_COF1&apos;,
&apos;HYP_OTHYRMED_11_COF1&apos;,
&apos;HYP_OTHYRMED_12_COF1&apos;,
&apos;HYP_OTHYRMED_13_COF1&apos;,
&apos;HYP_OTHYRMED_14_COF1&apos;,
&apos;HYP_OTHYRMED_15_COF1&apos;,
&apos;HYP_OTHYRMED_16_COF1&apos;,
&apos;HYP_OTHYRMED_17_COF1&apos;,
&apos;HYP_OTHYRMED_18_COF1&apos;,
&apos;HYP_OTHYRMED_19_COF1&apos;,
&apos;HYP_OTHYRMED_20_COF1&apos;,
&apos;HYP_OTHYRMED_21_COF1&apos;,
&apos;HYP_OTHYRMED_22_COF1&apos;,
&apos;HYP_OTHYRMED_23_COF1&apos;,
&apos;HYP_OTHYRMED_24_COF1&apos;,
&apos;HYP_OTHYRMED_25_COF1&apos;,
&apos;HYP_OTHYRMED_26_COF1&apos;,
&apos;HYP_OTHYRMED_27_COF1&apos;,
&apos;HYP_OTHYRMED_28_COF1&apos;,
&apos;HYP_OTHYRMED_29_COF1&apos;,
&apos;HYP_OTHYRMED_30_COF1&apos;,
&apos;HYP_OTHYRMED_31_COF1&apos;,
&apos;HYP_OTHYRMED_32_COF1&apos;,
&apos;HYP_OTHYRMED_33_COF1&apos;,
&apos;HYP_OTHYRMED_34_COF1&apos;,
&apos;HYP_OTHYRMED_35_COF1&apos;,
&apos;HYP_OTHYRMED_36_COF1&apos;,
&apos;HYP_OTHYRMED_37_COF1&apos;,
&apos;HYP_OTHYRMED_38_COF1&apos;,
&apos;HYP_OTHYRMED_39_COF1&apos;,
&apos;HYP_OTHYRMED_40_COF1&apos;,
&apos;HYP_OTHYREVRMD_COF1&apos;],
&apos;IHD&apos;:[
&apos;CCC_ANGI_COF1&apos;,
&apos;CCC_ANGI_CHANGE_COF1&apos;,
&apos;IHD_ANGIAGE_COF1&apos;,
&apos;CCC_AMI_COF1&apos;,
&apos;CCC_AMI_CHANGE_COF1&apos;,
&apos;IHD_AMIAGE_COF1&apos;,
&apos;IHD_CAB_COF1&apos;,
&apos;IHD_ANGIO_COF1&apos;,
&apos;IHD_BLOCK_COF1&apos;,
&apos;IHD_BLOCK_CHANGE_COF1&apos;,
&apos;IHD_MED_COF1&apos;,
&apos;IHD_MEDNAME_COF1&apos;,
&apos;IHD_MED_1_COF1&apos;,
&apos;IHD_MED_2_COF1&apos;,
&apos;IHD_MED_3_COF1&apos;,
&apos;IHD_MED_4_COF1&apos;,
&apos;IHD_MED_5_COF1&apos;,
&apos;IHD_MED_6_COF1&apos;,
&apos;IHD_MED_7_COF1&apos;,
&apos;IHD_MED_8_COF1&apos;,
&apos;IHD_MED_9_COF1&apos;,
&apos;IHD_MED_10_COF1&apos;,
&apos;IHD_MED_11_COF1&apos;,
&apos;IHD_MED_12_COF1&apos;,
&apos;IHD_MED_13_COF1&apos;,
&apos;IHD_MED_14_COF1&apos;,
&apos;IHD_MED_15_COF1&apos;,
&apos;IHD_MED_16_COF1&apos;,
&apos;IHD_MED_17_COF1&apos;,
&apos;IHD_MED_18_COF1&apos;,
&apos;IHD_MED_19_COF1&apos;,
&apos;IHD_MED_20_COF1&apos;,
&apos;IHD_MED_21_COF1&apos;,
&apos;IHD_MED_22_COF1&apos;,
&apos;IHD_MED_23_COF1&apos;,
&apos;IHD_MED_24_COF1&apos;,
&apos;IHD_MED_25_COF1&apos;,
&apos;IHD_MED_26_COF1&apos;,
&apos;IHD_MED_27_COF1&apos;,
&apos;IHD_MED_28_COF1&apos;,
&apos;IHD_MED_29_COF1&apos;,
&apos;IHD_MED_30_COF1&apos;,
&apos;IHD_MED_31_COF1&apos;,
&apos;IHD_MED_32_COF1&apos;,
&apos;IHD_MED_33_COF1&apos;,
&apos;IHD_MED_34_COF1&apos;,
&apos;IHD_MED_35_COF1&apos;,
&apos;IHD_MED_36_COF1&apos;,
&apos;IHD_MED_37_COF1&apos;,
&apos;IHD_MED_38_COF1&apos;,
&apos;IHD_MED_39_COF1&apos;,
&apos;IHD_MED_40_COF1&apos;,
&apos;IHD_EVRMED_COF1&apos;],
&apos;OAR&apos;:[
&apos;CCC_RA_COF1&apos;,
&apos;CCC_RA_CHANGE_COF1&apos;,
&apos;CCC_ARTOT_COF1&apos;,
&apos;CCC_ARTOT_CHANGE_COF1&apos;,
&apos;OAR_AGE_COF1&apos;,
&apos;OAR_MED_COF1&apos;,
&apos;OAR_MEDOT_COF1&apos;],
&apos;OSA&apos;:[
&apos;CCC_OAHAND_COF1&apos;,
&apos;CCC_OAHAND_CHANGE_COF1&apos;,
&apos;OSA_AGE_COF1&apos;,
&apos;OSA_LGJNT_COF1&apos;,
&apos;OSA_NBFNG_COF1&apos;,
&apos;OSA_PAINJNT_COF1&apos;,
&apos;OSA_LGTMB_COF1&apos;,
&apos;OSA_PAINTMB_COF1&apos;],
&apos;OSH&apos;:[
&apos;CCC_OAHIP_COF1&apos;,
&apos;CCC_OAHIP_CHANGE_COF1&apos;,
&apos;OSH_AGE_COF1&apos;,
&apos;OSH_HIPRPL_COF1&apos;,
&apos;OSH_FRAC_COF1&apos;,
&apos;OSH_PAIN_COF1&apos;,
&apos;OSH_PAINSL_COF1&apos;,
&apos;OSH_LOM_COF1&apos;],
&apos;OSK&apos;:[
&apos;CCC_OAKNEE_COF1&apos;,
&apos;CCC_OAKNEE_CHANGE_COF1&apos;,
&apos;OSK_AGE_COF1&apos;,
&apos;OSK_KNERPL_COF1&apos;,
&apos;OSK_PAIN_COF1&apos;,
&apos;OSK_PAINSL_COF1&apos;,
&apos;OSK_SWELL_COF1&apos;],
&apos;OST&apos;:[
&apos;CCC_OSTPO_COF1&apos;,
&apos;CCC_OSTPO_CHANGE_COF1&apos;,
&apos;OST_AGE_COF1&apos;,
&apos;OST_MED_COF1&apos;,
&apos;OST_MEDNAME_COF1&apos;,
&apos;OST_MED_1_COF1&apos;,
&apos;OST_MED_2_COF1&apos;,
&apos;OST_MED_3_COF1&apos;,
&apos;OST_MED_4_COF1&apos;,
&apos;OST_MED_5_COF1&apos;,
&apos;OST_MED_6_COF1&apos;,
&apos;OST_MED_7_COF1&apos;,
&apos;OST_MED_8_COF1&apos;,
&apos;OST_MED_9_COF1&apos;,
&apos;OST_MED_10_COF1&apos;,
&apos;OST_MED_11_COF1&apos;,
&apos;OST_MED_12_COF1&apos;,
&apos;OST_MED_13_COF1&apos;,
&apos;OST_MED_14_COF1&apos;,
&apos;OST_MED_15_COF1&apos;,
&apos;OST_MED_16_COF1&apos;,
&apos;OST_MED_17_COF1&apos;,
&apos;OST_MED_18_COF1&apos;,
&apos;OST_MED_19_COF1&apos;,
&apos;OST_MED_20_COF1&apos;,
&apos;OST_MED_21_COF1&apos;,
&apos;OST_MED_22_COF1&apos;,
&apos;OST_MED_23_COF1&apos;,
&apos;OST_MED_24_COF1&apos;,
&apos;OST_MED_25_COF1&apos;,
&apos;OST_MED_26_COF1&apos;,
&apos;OST_MED_27_COF1&apos;,
&apos;OST_MED_28_COF1&apos;,
&apos;OST_MED_29_COF1&apos;,
&apos;OST_MED_30_COF1&apos;,
&apos;OST_MED_31_COF1&apos;,
&apos;OST_MED_32_COF1&apos;,
&apos;OST_MED_33_COF1&apos;,
&apos;OST_MED_34_COF1&apos;,
&apos;OST_MED_35_COF1&apos;,
&apos;OST_MED_36_COF1&apos;,
&apos;OST_MED_37_COF1&apos;,
&apos;OST_MED_38_COF1&apos;,
&apos;OST_MED_39_COF1&apos;,
&apos;OST_MED_40_COF1&apos;,
&apos;OST_EVRMD_COF1&apos;,
&apos;OST_BONE_COF1&apos;,
&apos;OST_FRAC_COF1&apos;,
&apos;OST_MOM_COF1&apos;,
&apos;OST_DAD_COF1&apos;,
&apos;OST_HGT_COF1&apos;,
&apos;OST_CST_COF1&apos;,
&apos;OST_CSTAGE_COF1&apos;,
&apos;OST_CST_MT_COF1&apos;,
&apos;OST_BP_COF1&apos;,
&apos;OST_BP_DUR_COF1&apos;,
&apos;OST_BCKPPM_COF1&apos;,
&apos;OST_BCKPLOC_COF1&apos;],
&apos;PKD&apos;:[
&apos;CCC_PARK_COF1&apos;,
&apos;CCC_PARK_CHANGE_COF1&apos;,
&apos;PKD_AGE_COF1&apos;,
&apos;PKD_MED_COF1&apos;,
&apos;PKD_MEDNAME_COF1&apos;,
&apos;PKD_MED_1_COF1&apos;,
&apos;PKD_MED_2_COF1&apos;,
&apos;PKD_MED_3_COF1&apos;,
&apos;PKD_MED_4_COF1&apos;,
&apos;PKD_MED_5_COF1&apos;,
&apos;PKD_MED_6_COF1&apos;,
&apos;PKD_MED_7_COF1&apos;,
&apos;PKD_MED_8_COF1&apos;,
&apos;PKD_MED_9_COF1&apos;,
&apos;PKD_MED_10_COF1&apos;,
&apos;PKD_MED_11_COF1&apos;,
&apos;PKD_MED_12_COF1&apos;,
&apos;PKD_MED_13_COF1&apos;,
&apos;PKD_MED_14_COF1&apos;,
&apos;PKD_MED_15_COF1&apos;,
&apos;PKD_MED_16_COF1&apos;,
&apos;PKD_MED_17_COF1&apos;,
&apos;PKD_MED_18_COF1&apos;,
&apos;PKD_MED_19_COF1&apos;,
&apos;PKD_MED_20_COF1&apos;,
&apos;PKD_MED_21_COF1&apos;,
&apos;PKD_MED_22_COF1&apos;,
&apos;PKD_MED_23_COF1&apos;,
&apos;PKD_MED_24_COF1&apos;,
&apos;PKD_MED_25_COF1&apos;,
&apos;PKD_MED_26_COF1&apos;,
&apos;PKD_MED_27_COF1&apos;,
&apos;PKD_MED_28_COF1&apos;,
&apos;PKD_MED_29_COF1&apos;,
&apos;PKD_MED_30_COF1&apos;,
&apos;PKD_MED_31_COF1&apos;,
&apos;PKD_MED_32_COF1&apos;,
&apos;PKD_MED_33_COF1&apos;,
&apos;PKD_MED_34_COF1&apos;,
&apos;PKD_MED_35_COF1&apos;,
&apos;PKD_MED_36_COF1&apos;,
&apos;PKD_MED_37_COF1&apos;,
&apos;PKD_MED_38_COF1&apos;,
&apos;PKD_MED_39_COF1&apos;,
&apos;PKD_MED_40_COF1&apos;,
&apos;PKD_OTHMD_COF1&apos;,
&apos;PKD_EVRMED_COF1&apos;,
&apos;PKD_SHKE_COF1&apos;,
&apos;PKD_SHKSEV_COF1&apos;,
&apos;PKD_SMWRT_COF1&apos;,
&apos;PKD_BUTON_COF1&apos;,
&apos;PKD_VOICE_COF1&apos;,
&apos;PKD_FEET_COF1&apos;,
&apos;PKD_WALK_COF1&apos;,
&apos;PKD_BAL_COF1&apos;,
&apos;PKD_FACE_COF1&apos;,
&apos;PKD_RISE_COF1&apos;],
&apos;ROS&apos;:[
&apos;ROS_PAIN_COF1&apos;,
&apos;ROS_HILL_COF1&apos;,
&apos;ROS_LEVEL_COF1&apos;,
&apos;ROS_BLOCK_COF1&apos;,
&apos;ROS_DOWLK_COF1&apos;,
&apos;ROS_STILL_COF1&apos;,
&apos;ROS_SOON_COF1&apos;,
&apos;ROS_LOC_COF1&apos;,
&apos;ROS_SEVPAIN_COF1&apos;],
&apos;STR&apos;:[
&apos;CCC_CVA_COF1&apos;,
&apos;CCC_CVA_CHANGE_COF1&apos;,
&apos;STR_CVAAGE_COF1&apos;,
&apos;STR_MED_COF1&apos;,
&apos;STR_MEDNAME_COF1&apos;,
&apos;STR_MED_1_COF1&apos;,
&apos;STR_MED_2_COF1&apos;,
&apos;STR_MED_3_COF1&apos;,
&apos;STR_MED_4_COF1&apos;,
&apos;STR_MED_5_COF1&apos;,
&apos;STR_MED_6_COF1&apos;,
&apos;STR_MED_7_COF1&apos;,
&apos;STR_MED_8_COF1&apos;,
&apos;STR_MED_9_COF1&apos;,
&apos;STR_MED_10_COF1&apos;,
&apos;STR_MED_11_COF1&apos;,
&apos;STR_MED_12_COF1&apos;,
&apos;STR_MED_13_COF1&apos;,
&apos;STR_MED_14_COF1&apos;,
&apos;STR_MED_15_COF1&apos;,
&apos;STR_MED_16_COF1&apos;,
&apos;STR_MED_17_COF1&apos;,
&apos;STR_MED_18_COF1&apos;,
&apos;STR_MED_19_COF1&apos;,
&apos;STR_MED_20_COF1&apos;,
&apos;STR_MED_21_COF1&apos;,
&apos;STR_MED_22_COF1&apos;,
&apos;STR_MED_23_COF1&apos;,
&apos;STR_MED_24_COF1&apos;,
&apos;STR_MED_25_COF1&apos;,
&apos;STR_MED_26_COF1&apos;,
&apos;STR_MED_27_COF1&apos;,
&apos;STR_MED_28_COF1&apos;,
&apos;STR_MED_29_COF1&apos;,
&apos;STR_MED_30_COF1&apos;,
&apos;STR_MED_31_COF1&apos;,
&apos;STR_MED_32_COF1&apos;,
&apos;STR_MED_33_COF1&apos;,
&apos;STR_MED_34_COF1&apos;,
&apos;STR_MED_35_COF1&apos;,
&apos;STR_MED_36_COF1&apos;,
&apos;STR_MED_37_COF1&apos;,
&apos;STR_MED_38_COF1&apos;,
&apos;STR_MED_39_COF1&apos;,
&apos;STR_MED_40_COF1&apos;,
&apos;STR_OTHMD_COF1&apos;,
&apos;STR_EVRMD_COF1&apos;,
&apos;CCC_TIA_COF1&apos;,
&apos;CCC_TIA_CHANGE_COF1&apos;,
&apos;STR_TIAAGE_COF1&apos;,
&apos;STR_TIAMED_COF1&apos;,
&apos;STR_TIAMEDNAME_COF1&apos;,
&apos;STR_TIAMED_1_COF1&apos;,
&apos;STR_TIAMED_2_COF1&apos;,
&apos;STR_TIAMED_3_COF1&apos;,
&apos;STR_TIAMED_4_COF1&apos;,
&apos;STR_TIAMED_5_COF1&apos;,
&apos;STR_TIAMED_6_COF1&apos;,
&apos;STR_TIAMED_7_COF1&apos;,
&apos;STR_TIAMED_8_COF1&apos;,
&apos;STR_TIAMED_9_COF1&apos;,
&apos;STR_TIAMED_10_COF1&apos;,
&apos;STR_TIAMED_11_COF1&apos;,
&apos;STR_TIAMED_12_COF1&apos;,
&apos;STR_TIAMED_13_COF1&apos;,
&apos;STR_TIAMED_14_COF1&apos;,
&apos;STR_TIAMED_15_COF1&apos;,
&apos;STR_TIAMED_16_COF1&apos;,
&apos;STR_TIAMED_17_COF1&apos;,
&apos;STR_TIAMED_18_COF1&apos;,
&apos;STR_TIAMED_19_COF1&apos;,
&apos;STR_TIAMED_20_COF1&apos;,
&apos;STR_TIAMED_21_COF1&apos;,
&apos;STR_TIAMED_22_COF1&apos;,
&apos;STR_TIAMED_23_COF1&apos;,
&apos;STR_TIAMED_24_COF1&apos;,
&apos;STR_TIAMED_25_COF1&apos;,
&apos;STR_TIAMED_26_COF1&apos;,
&apos;STR_TIAMED_27_COF1&apos;,
&apos;STR_TIAMED_28_COF1&apos;,
&apos;STR_TIAMED_29_COF1&apos;,
&apos;STR_TIAMED_30_COF1&apos;,
&apos;STR_TIAMED_31_COF1&apos;,
&apos;STR_TIAMED_32_COF1&apos;,
&apos;STR_TIAMED_33_COF1&apos;,
&apos;STR_TIAMED_34_COF1&apos;,
&apos;STR_TIAMED_35_COF1&apos;,
&apos;STR_TIAMED_36_COF1&apos;,
&apos;STR_TIAMED_37_COF1&apos;,
&apos;STR_TIAMED_38_COF1&apos;,
&apos;STR_TIAMED_39_COF1&apos;,
&apos;STR_TIAMED_40_COF1&apos;,
&apos;STR_TIAOTHMD_COF1&apos;,
&apos;STR_TIAEVMD_COF1&apos;,
&apos;CCC_CVAFX_COF1&apos;,
&apos;STR_WEAK_COF1&apos;,
&apos;STR_WEAK_DUR_COF1&apos;,
&apos;STR_NUMB_COF1&apos;,
&apos;STR_NUMB_DUR_COF1&apos;,
&apos;STR_VIS_COF1&apos;,
&apos;STR_VIS_DUR_COF1&apos;,
&apos;STR_NOVIS_COF1&apos;,
&apos;STR_NOVIS_DUR_COF1&apos;,
&apos;STR_NOUND_COF1&apos;,
&apos;STR_NOUND_DUR_COF1&apos;,
&apos;STR_NOEXP_COF1&apos;,
&apos;STR_NOEXP_DUR_COF1&apos;],
&apos;TBI&apos;:[
&apos;TBI_TYP_COF1&apos;,
&apos;TBI_NMBR_COF1&apos;,
&apos;TBI_RSLT_COF1&apos;,
&apos;TBI_MCR_COF1&apos;,
&apos;TBI_PROB_COF1&apos;]
}

  for(var key in sections) {
    var rcount=0
    var qcount=0
    var arr=sections[key]
    for(var i=0; i&lt;arr.length; i++ ) {
      var j=$(stage+arr[i])
      if(j.isNull().value()) continue
      qcount++
      rcount+=j.any(&apos;REFUSED&apos;).value()?1:0
    }
    if(0==qcount) {
      str.push(key+&apos;:100&apos;)
    } else {
      var perc=100.0*rcount/qcount
      if(0&lt;perc &amp;&amp; 100&gt;perc &amp;&amp; 0!=(perc-Math.floor(perc))) {
        perc=perc.toFixed(3)
      }
      str.push(key+&apos;:&apos;+perc)
    }
  }

  res=newValue(&apos;{&apos;+str.join(&apos;,&apos;)+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_disease_symptoms" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_disease_symptoms&apos;).isNull().and(
  $this(&apos;stage_contraindicated_disease_symptoms&apos;).eq(0),
  $this(&apos;stage_skip_disease_symptoms&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_conclusion_questionnaire" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.ConclusionQuestionnaire:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;ConclusionQuestionnaire&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_conclusion_questionnaire" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;ConclusionQuestionnaire&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;ConclusionQuestionnaire&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_conclusion_questionnaire" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;ConclusionQuestionnaire&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_conclusion_questionnaire" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var res=$(&apos;clsa-dcs-f1.ConclusionQuestionnaire:PARTICIPANT_OFFERED_DOCUMENT&apos;).lowerCase()
if(res.isNull().not().value()) {
  var n=0
  if(res.any(&apos;consent_form&apos;).value()) n++
  if(res.any(&apos;physical_measures_report&apos;).value()) n++
  res=newValue(&apos;{documents:&apos;+n+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_conclusion_questionnaire" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_conclusion_questionnaire&apos;).isNull().and(
  $this(&apos;stage_contraindicated_conclusion_questionnaire&apos;).eq(0),
  $this(&apos;stage_skip_conclusion_questionnaire&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_bone_density_questionnaire" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.QuestionnaireBoneDensity:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;QuestionnaireBoneDensity&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_bone_density_questionnaire" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;QuestionnaireBoneDensity&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;QuestionnaireBoneDensity&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_bone_density_questionnaire" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;QuestionnaireBoneDensity&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_bone_density_questionnaire" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var p=$(&apos;clsa-dcs-f1.QuestionnaireBoneDensity:QuestionnaireMetric.missingCount&apos;).asSequence()
var q=$(&apos;clsa-dcs-f1.QuestionnaireBoneDensity:QuestionnaireMetric.questionCount&apos;).asSequence()
var res=null
if(p.isNull().and(q.isNull()).not().value() &amp;&amp; 0!=q.sum()){
  res=newValue(
    &apos;{complete:&apos;+
    Math.round(q.sum().minus(p.sum()).multiply(100).div(q.sum()).value())
    +&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_bone_density_questionnaire" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_bone_density_questionnaire&apos;).isNull().and(
  $this(&apos;stage_contraindicated_bone_density_questionnaire&apos;).eq(0),
  $this(&apos;stage_skip_bone_density_questionnaire&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_hearing_questionnaire" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.HearingQuestionnaire:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;HearingQuestionnaire&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_hearing_questionnaire" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;HearingQuestionnaire&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;HearingQuestionnaire&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_hearing_questionnaire" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;HearingQuestionnaire&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_hearing_questionnaire" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var l=$(&apos;clsa-dcs-f1.HearingQuestionnaire:STATUS_EAR.LEFT_EAR_2&apos;).lowerCase()
var r=$(&apos;clsa-dcs-f1.HearingQuestionnaire:STATUS_EAR.RIGHT_EAR_2&apos;).lowerCase()
var res=null
if(l.isNull().and(r.isNull()).not().value()){
  res=newValue(
    &apos;{status_left:&apos;+
     (l.isNull().value()?&apos;missing&apos;:l.value()) +
    &apos;,status_right:&apos;+
     (r.isNull().value()?&apos;missing&apos;:r.value()) +
    &apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_hearing_questionnaire" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_hearing_questionnaire&apos;).isNull().and(
  $this(&apos;stage_contraindicated_hearing_questionnaire&apos;).eq(0),
  $this(&apos;stage_skip_hearing_questionnaire&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_functional_status" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.FunctionalStatus:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;FunctionalStatus&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_functional_status" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;FunctionalStatus&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;FunctionalStatus&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_functional_status" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;FunctionalStatus&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_functional_status" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var stage=&apos;clsa-dcs-f1.FunctionalStatus:&apos;
var p=$(stage+&apos;QuestionnaireMetric.missingCount&apos;).asSequence()
var q=$(stage+&apos;QuestionnaireMetric.questionCount&apos;).asSequence()
var res=null
if(p.isNull().and(q.isNull()).not().value() &amp;&amp; 0!=q.sum()) {
  var str=[]
  str.push(
    &apos;complete:&apos;+
    Math.round(q.sum().minus(p.sum()).multiply(100).div(q.sum()).value()))

var sections={
&apos;Fun&apos;:[
&apos;FUL_SHLD_COF1&apos;,
&apos;FUL_SHLDDG_COF1&apos;,
&apos;FUL_STOOP_COF1&apos;,
&apos;FUL_STOOPDG_COF1&apos;,
&apos;FUL_PUSH_COF1&apos;,
&apos;FUL_PUSHDG_COF1&apos;,
&apos;FUL_LFT10_COF1&apos;,
&apos;FUL_LFT1ODG_COF1&apos;,
&apos;FUL_HDLG_COF1&apos;,
&apos;FUL_HDLGDG_COF1&apos;,
&apos;FUL_ST15_COF1&apos;,
&apos;FUL_ST15DG_COF1&apos;,
&apos;FUL_SIT1H_COF1&apos;,
&apos;FUL_SIT1HDG_COF1&apos;,
&apos;FUL_STDUP_COF1&apos;,
&apos;FUL_STDUPDG_COF1&apos;,
&apos;FUL_FSTR_COF1&apos;,
&apos;FUL_FSTRDG_COF1&apos;,
&apos;FUL_WK23B_COF1&apos;,
&apos;FUL_WK23BDG_COF1&apos;,
&apos;FUL_MKBED_COF1&apos;,
&apos;FUL_MKBEDDG_COF1&apos;,
&apos;FUL_WSHBK_COF1&apos;,
&apos;FUL_WSHBKDG_COF1&apos;,
&apos;FUL_KNCUT_COF1&apos;,
&apos;FUL_KNCUTDG_COF1&apos;,
&apos;FUL_FORC_COF1&apos;,
&apos;FUL_FORCDG_COF1&apos;]
}

  for(var key in sections) {
    var rcount=0
    var qcount=0
    var arr=sections[key]
    for(var i=0; i&lt;arr.length; i++ ) {
      var j=$(stage+arr[i])
      if(j.isNull().value()) continue
      qcount++
      rcount+=j.any(&apos;REFUSED&apos;).value()?1:0
    }
    if(0==qcount) {
      str.push(key+&apos;:100&apos;)
    } else {
      var perc=100.0*rcount/qcount
      if(0&lt;perc &amp;&amp; 100&gt;perc &amp;&amp; 0!=(perc-Math.floor(perc))) {
        perc=perc.toFixed(3)
      }
      str.push(key+&apos;:&apos;+perc)
    }
  }

  res=newValue(&apos;{&apos;+str.join(&apos;,&apos;)+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_functional_status" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_functional_status&apos;).isNull().and(
  $this(&apos;stage_contraindicated_functional_status&apos;).eq(0),
  $this(&apos;stage_skip_functional_status&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_time_based_pmt" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.TimeBasedProspectiveMemoryTask:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;TimeBasedProspectiveMemoryTask&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_time_based_pmt" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;TimeBasedProspectiveMemoryTask&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;TimeBasedProspectiveMemoryTask&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_time_based_pmt" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;TimeBasedProspectiveMemoryTask&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_time_based_pmt" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var stage=&apos;clsa-dcs-f1.TimeBasedProspectiveMemoryTask:&apos;
var p=$(stage+&apos;QuestionnaireMetric.missingCount&apos;).asSequence()
var q=$(stage+&apos;QuestionnaireMetric.questionCount&apos;).asSequence()
var res=null
if(p.isNull().and(q.isNull()).not().value() &amp;&amp; 0!=q.sum()) {
  var str=[]
  str.push(
    &apos;complete:&apos;+
    Math.round(q.sum().minus(p.sum()).multiply(100).div(q.sum()).value()))

var sections={
&apos;TMT&apos;:[
&apos;TMT_PASS_COF1&apos;,
&apos;TMT_TST_COF1&apos;,
&apos;TMT_FCT_COF1&apos;,
&apos;TMT_DOTIM_COF1&apos;,
&apos;TMT_DOTIM_REP_COF1&apos;,
&apos;TMT_DOTIM_OBS_COF1&apos;,
&apos;TMT_DOENV_COF1&apos;,
&apos;TMT_DOENV_OBS_COF1&apos;,
&apos;TMT_DOCARD_COF1&apos;,
&apos;TMT_DOCARD_OBS_COF1&apos;,
&apos;TMT_ITPEXACT_COF1&apos;,
&apos;TMT_ACC_COF1&apos;,
&apos;TMT_RMD_COF1&apos;]
}

  for(var key in sections) {
    var rcount=0
    var qcount=0
    var arr=sections[key]
    for(var i=0; i&lt;arr.length; i++ ) {
      var j=$(stage+arr[i])
      if(j.isNull().value()) continue
      qcount++
      rcount+=j.any(&apos;REFUSED&apos;).value()?1:0
    }
    if(0==qcount) {
      str.push(key+&apos;:100&apos;)
    } else {
      var perc=100.0*rcount/qcount
      if(0&lt;perc &amp;&amp; 100&gt;perc &amp;&amp; 0!=(perc-Math.floor(perc))) {
        perc=perc.toFixed(3)
      }
      str.push(key+&apos;:&apos;+perc)
    }
  }

  res=newValue(&apos;{&apos;+str.join(&apos;,&apos;)+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_time_based_pmt" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_time_based_pmt&apos;).isNull().and(
  $this(&apos;stage_contraindicated_time_based_pmt&apos;).eq(0),
  $this(&apos;stage_skip_time_based_pmt&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_consent" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;Consent&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_consent" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_consent&apos;).isNull().and(
  $this(&apos;stage_contraindicated_consent&apos;).eq(0),
  $this(&apos;stage_skip_consent&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_consent" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var m=$(&apos;clsa-dcs-f1.Consent:mode&apos;)
var a=$(&apos;clsa-dcs-f1.Consent:accepted&apos;)
var res=null
if(m.isNull().and(a.isNull()).not().value()) {
  res=newValue(
    &apos;{mode:&apos;+m.lowerCase().value()+
    &apos;,accepted:&apos;+(a.value()?1:0)+
    &apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_consent" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;Admin.Action.stage&apos;,&apos;Consent&apos;,&apos;Admin.Action.user&apos;).asSequence().last().lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_consent" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;Consent&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;Consent&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_contraindications" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.ContraIndications:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;ContraIndications&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_contraindications" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;ContraIndications&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;ContraIndications&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_contraindications" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;ContraIndications&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_contraindications" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var stage=&apos;clsa-dcs-f1.ContraIndications:&apos;
var p=$(stage+&apos;QuestionnaireMetric.missingCount&apos;).asSequence()
var q=$(stage+&apos;QuestionnaireMetric.questionCount&apos;).asSequence()
var res=null
if(p.isNull().and(q.isNull()).not().value() &amp;&amp; 0!=q.sum()) {
  var str=[]
  str.push(
    &apos;complete:&apos;+
    Math.round(q.sum().minus(p.sum()).multiply(100).div(q.sum()).value()))

var sections={
&apos;ICQ_COF1&apos;:[
&apos;ICQ_DOMHAND_COF1&apos;,
&apos;ICQ_HNDSWL_COF1&apos;,
&apos;ICQ_HNDCST_COF1&apos;,
&apos;ICQ_HNDHMT_COF1&apos;,
&apos;ICQ_ARMSWL_COF1&apos;,
&apos;ICQ_ARMCST_COF1&apos;,
&apos;ICQ_LEGSWL_COF1&apos;,
&apos;ICQ_LEGCST_COF1&apos;,
&apos;ICQ_SRG3MO_COF1&apos;,
&apos;ICQ_SRGYARM_COF1&apos;,
&apos;ICQ_SRGYCHT_COF1&apos;,
&apos;ICQ_SRGYHND_COF1&apos;,
&apos;ICQ_SRGYART_COF1&apos;,
&apos;ICQ_SRGYEYE_COF1&apos;,
&apos;ICQ_SRGYABD_COF1&apos;,
&apos;ICQ_SRGYHRT_COF1&apos;,
&apos;ICQ_SRGYOT_COF1&apos;,
&apos;ICQ_SRGYOTSPE_COF1&apos;,
&apos;ICQ_PAINHND_COF1&apos;,
&apos;ICQ_RISEASSI_COF1&apos;,
&apos;ICQ_RISECANE_COF1&apos;,
&apos;ICQ_ABLESTND_COF1&apos;,
&apos;ICQ_ABLEWLK_COF1&apos;,
&apos;ICQ_PREGNT_COF1&apos;,
&apos;ICQ_PREGNTWK_COF1&apos;,
&apos;ICQ_ILLLUNG_COF1&apos;,
&apos;ICQ_HRTCOND_COF1&apos;,
&apos;ICQ_EMB6WK_COF1&apos;,
&apos;ICQ_EMBMED_COF1&apos;,
&apos;ICQ_DERET3MO_COF1&apos;,
&apos;ICQ_EYEINF_COF1&apos;,
&apos;ICQ_EARINF_COF1&apos;,
&apos;ICQ_CATRCT_COF1&apos;,
&apos;ICQ_CATRCT2_COF1&apos;,
&apos;ICQ_CATRCTS_COF1&apos;,
&apos;ICQ_CATIME_COF1&apos;,
&apos;ICQ_GLAUC_COF1&apos;,
&apos;ICQ_HRAID_COF1&apos;,
&apos;ICQ_HRAID2_COF1&apos;,
&apos;ICQ_HRWORKING_COF1&apos;,
&apos;ICQ_GLASSES2_COF1&apos;,
&apos;ICQ_CTLENS2_COF1&apos;,
&apos;ICQ_GLASSES_COF1&apos;,
&apos;ICQ_CTLENS_COF1&apos;,
&apos;ICQ_PROSLIM_COF1&apos;,
&apos;ICQ_PROSARM_COF1&apos;,
&apos;ICQ_JOINTARM_COF1&apos;,
&apos;ICQ_PROSLEG_COF1&apos;,
&apos;ICQ_PROSHND_COF1&apos;,
&apos;ICQ_PROSFT_COF1&apos;,
&apos;ICQ_PROSHIP_COF1&apos;,
&apos;ICQ_PROSKNEE_COF1&apos;,
&apos;ICQ_PROEYE_COF1&apos;,
&apos;ICQ_FX_COF1&apos;,
&apos;ICQ_FXARM_COF1&apos;,
&apos;ICQ_FXSHLD_COF1&apos;,
&apos;ICQ_FXHND_COF1&apos;,
&apos;ICQ_FXWRST_COF1&apos;,
&apos;ICQ_FXRIB_COF1&apos;,
&apos;ICQ_FXLEG_COF1&apos;,
&apos;ICQ_FXANK_COF1&apos;,
&apos;ICQ_FXFT_COF1&apos;,
&apos;ICQ_FXHIP_COF1&apos;,
&apos;ICQ_FXKNEE_COF1&apos;,
&apos;ICQ_FXCHK_COF1&apos;,
&apos;ICQ_FXJAW_COF1&apos;,
&apos;ICQ_FXNOSE_COF1&apos;,
&apos;ICQ_FXSKL_COF1&apos;,
&apos;ICQ_FXNECK_COF1&apos;,
&apos;ICQ_FXBACK_COF1&apos;,
&apos;ICQ_FXCOLLR_COF1&apos;,
&apos;ICQ_FXPELV_COF1&apos;,
&apos;ICQ_LAMIN_COF1&apos;,
&apos;ICQ_POLIO_COF1&apos;,
&apos;ICQ_BLDSP3MO_COF1&apos;,
&apos;ICQ_ANEURY_COF1&apos;,
&apos;ICQ_PACEMKR_COF1&apos;,
&apos;ICQ_DEFIBR_COF1&apos;,
&apos;ICQ_COCHLIMP_COF1&apos;,
&apos;ICQ_NGTUBE_COF1&apos;,
&apos;ICQ_ABDTUBE_COF1&apos;,
&apos;ICQ_CHEMO4WK_COF1&apos;,
&apos;ICQ_HAEMO_COF1&apos;,
&apos;ICQ_BLDTR24H_COF1&apos;,
&apos;ICQ_NUCLMED_COF1&apos;,
&apos;ICQ_NUCLMED_48H_COF1&apos;,
&apos;ICQ_NUCLMED_TEST_Q_COF1&apos;,
&apos;ICQ_NUCLMED_IV24H_COF1&apos;,
&apos;ICQ_BARSWAL_COF1&apos;,
&apos;ICQ_TINNIT_COF1&apos;,
&apos;ICQ_SMOKE_COF1&apos;,
&apos;ICQ_SMOKETIME_COF1&apos;,
&apos;ICQ_SMOKETIMEH_COF1&apos;,
&apos;ICQ_INHALERLONG_COF1&apos;,
&apos;ICQ_INHALERSHORT_COF1&apos;]
}

  for(var key in sections) {
    var rcount=0
    var qcount=0
    var arr=sections[key]
    for(var i=0; i&lt;arr.length; i++ ) {
      var j=$(stage+arr[i])
      if(j.isNull().value()) continue
      qcount++
      rcount+=j.any(&apos;REFUSED&apos;).value()?1:0
    }
    if(0==qcount) {
      str.push(key+&apos;:100&apos;)
    } else {
      var perc=100.0*rcount/qcount
      if(0&lt;perc &amp;&amp; 100&gt;perc &amp;&amp; 0!=(perc-Math.floor(perc))) {
        perc=perc.toFixed(3)
      }
      str.push(key+&apos;:&apos;+perc)
    }
  }

  res=newValue(&apos;{&apos;+str.join(&apos;,&apos;)+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_contraindications" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_contraindications&apos;).isNull().and(
  $this(&apos;stage_contraindicated_contraindications&apos;).eq(0),
  $this(&apos;stage_skip_contraindications&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_frax" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.Frax:InstrumentRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;Frax&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_frax" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;Frax&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_frax" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var res=$(&apos;clsa-dcs-f1.Frax:RES_RESULT_FILE&apos;)
if(res.isNull().not().value()) {
  res=newValue(&apos;{filesize:&apos;+res.length()+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_frax" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_frax&apos;).isNull().and(
  $this(&apos;stage_contraindicated_frax&apos;).eq(0),
  $this(&apos;stage_skip_frax&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_frax" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;Frax&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;Frax&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_general_health" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.GenHealth:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;GenHealth&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_general_health" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;GenHealth&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;GenHealth&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_general_health" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;GenHealth&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_general_health" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var stage=&apos;clsa-dcs-f1.GenHealth:&apos;
var p=$(stage+&apos;QuestionnaireMetric.missingCount&apos;).asSequence()
var q=$(stage+&apos;QuestionnaireMetric.questionCount&apos;).asSequence()
var res=null
if(p.isNull().and(q.isNull()).not().value() &amp;&amp; 0!=q.sum()) {
  var str=[]
  str.push(
    &apos;complete:&apos;+
    Math.round(q.sum().minus(p.sum()).multiply(100).div(q.sum()).value()))

var sections={
&apos;HRG&apos;:[
&apos;HRG_HRG_COF1&apos;,
&apos;HRG_NOIS_COF1&apos;,
&apos;HRG_AID_COF1&apos;,
&apos;HRG_USE_COF1&apos;,
&apos;HRG_PROB_EMBA_COF1&apos;,
&apos;HRG_PROB_FRST_COF1&apos;,
&apos;HRG_PROB_DIFF_COF1&apos;,
&apos;HRG_PROB_HACP_COF1&apos;,
&apos;HRG_PROB_VIST_COF1&apos;,
&apos;HRG_PROB_MEET_COF1&apos;,
&apos;HRG_PROB_ARGU_COF1&apos;,
&apos;HRG_PROB_LSTN_COF1&apos;,
&apos;HRG_PROB_LIFE_COF1&apos;,
&apos;HRG_PROB_FRND_COF1&apos;],
&apos;HUP&apos;:[
&apos;HUP_FREE_COF1&apos;,
&apos;HUP_INTNSTY_COF1&apos;,
&apos;HUP_PRVACT_COF1&apos;],
&apos;NUR&apos;:[
&apos;NUR_GLSWT_COF1&apos;,
&apos;NUR_WTGL_COF1&apos;,
&apos;NUR_WTL_COF1&apos;,
&apos;NUR_WTG_COF1&apos;,
&apos;NUR_SKPMLS_COF1&apos;,
&apos;NUR_APPTT_COF1&apos;,
&apos;NUR_SWLLFD_COF1&apos;,
&apos;NUR_FRTVEG_COF1&apos;,
&apos;NUR_DRKFLD_COF1&apos;,
&apos;NUR_MLSMN_COF1&apos;,
&apos;NUR_CKMEALS_COF1&apos;,
&apos;NUR_MLPREP_COF1&apos;,
&apos;NUR_MLPREP_OTH_COF1&apos;,
&apos;NUR_FASTFD_NB_COF1&apos;,
&apos;NUR_NOTENFD_COF1&apos;,
&apos;NUR_RCOFF_COF1&apos;,
&apos;NUR_DCOFF_COF1&apos;,
&apos;NUR_BTEA_COF1&apos;,
&apos;NUR_GTEA_COF1&apos;,
&apos;NUR_OTEA_COF1&apos;],
&apos;VIS&apos;:[
&apos;VIS_SGHT_COF1&apos;,
&apos;VIS_AID_COF1&apos;,
&apos;VIS_USE_COF1&apos;]
}

  for(var key in sections) {
    var rcount=0
    var qcount=0
    var arr=sections[key]
    for(var i=0; i&lt;arr.length; i++ ) {
      var j=$(stage+arr[i])
      if(j.isNull().value()) continue
      qcount++
      rcount+=j.any(&apos;REFUSED&apos;).value()?1:0
    }
    if(0==qcount) {
      str.push(key+&apos;:100&apos;)
    } else {
      var perc=100.0*rcount/qcount
      if(0&lt;perc &amp;&amp; 100&gt;perc &amp;&amp; 0!=(perc-Math.floor(perc))) {
        perc=perc.toFixed(3)
      }
      str.push(key+&apos;:&apos;+perc)
    }
  }

  res=newValue(&apos;{&apos;+str.join(&apos;,&apos;)+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_general_health" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_general_health&apos;).isNull().and(
  $this(&apos;stage_contraindicated_general_health&apos;).eq(0),
  $this(&apos;stage_skip_general_health&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_urine" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.Urine:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;Urine&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_urine" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;Urine&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;Urine&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_urine" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;Urine&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_urine" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var stage=&apos;clsa-dcs-f1.Urine:&apos;
var p=$(stage+&apos;QuestionnaireMetric.missingCount&apos;).asSequence()
var q=$(stage+&apos;QuestionnaireMetric.questionCount&apos;).asSequence()
var res=null
if(p.isNull().and(q.isNull()).not().value() &amp;&amp; 0!=q.sum()) {
  var str=[]
  str.push(
    &apos;complete:&apos;+
    Math.round(q.sum().minus(p.sum()).multiply(100).div(q.sum()).value()))

var sections={
&apos;URINE&apos;:[
&apos;FOOD_DRINK_24_U&apos;,
&apos;CAFFEINE_24_U&apos;,
&apos;TOBACCO_24_U&apos;,
&apos;ALCOHOL_24_U&apos;,
&apos;CURRENTLY_MENSTRUAL_U&apos;,
&apos;AGREE_URINE_U&apos;,
&apos;WHY_NOT_AGREE_URINE_U&apos;,
&apos;PART_DECLINED_URINE_U&apos;,
&apos;TECH_REASON_URINE_U&apos;]
}

  for(var key in sections) {
    var rcount=0
    var qcount=0
    var arr=sections[key]
    for(var i=0; i&lt;arr.length; i++ ) {
      var j=$(stage+arr[i])
      if(j.isNull().value()) continue
      qcount++
      rcount+=j.any(&apos;REFUSED&apos;).value()?1:0
    }
    if(0==qcount) {
      str.push(key+&apos;:100&apos;)
    } else {
      var perc=100.0*rcount/qcount
      if(0&lt;perc &amp;&amp; 100&gt;perc &amp;&amp; 0!=(perc-Math.floor(perc))) {
        perc=perc.toFixed(3)
      }
      str.push(key+&apos;:&apos;+perc)
    }
  }

  res=newValue(&apos;{&apos;+str.join(&apos;,&apos;)+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_urine" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_urine&apos;).isNull().and(
  $this(&apos;stage_contraindicated_urine&apos;).eq(0),
  $this(&apos;stage_skip_urine&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_blood" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var stage=$this(&apos;group_blood&apos;)
var res=null
if(stage.isNull().not().value()) {
  stage=stage.value()
  res=$(&apos;clsa-dcs-f1.&apos;+stage+&apos;:QuestionnaireRun.user&apos;).whenNull(
    $group(&apos;Admin.Action.stage&apos;,stage,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_blood" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var stage=$this(&apos;group_blood&apos;)
var res=null
if(stage.isNull().not().value()) {
  stage=stage.value()
  var action=$group(&apos;Admin.Action.stage&apos;,stage,&apos;Admin.Action.actionType&apos;).asSequence()
  var res=$group(&apos;Admin.Action.stage&apos;,stage,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
    return action.indexOf(&apos;SKIP&apos;)==i
    }).last()
  if(res.isNull().not().value()) {
    res=newValue(res.value().slice(14),&apos;text&apos;)
  }
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_blood" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var stage=$this(&apos;group_blood&apos;)
var res=null
if(stage.isNull().not().value()) {
  stage=&apos;clsa-dcs-f1.&apos;+stage.value()+&apos;:&apos;
  var p=$(stage+&apos;QuestionnaireMetric.missingCount&apos;).asSequence()
  var q=$(stage+&apos;QuestionnaireMetric.questionCount&apos;).asSequence()
  if(p.isNull().and(q.isNull()).not().value() &amp;&amp; 0!=q.sum()) {
    var str=[]
    str.push(
      &apos;complete:&apos;+
      Math.round(q.sum().minus(p.sum()).multiply(100).div(q.sum()).value()))

var sections={
&apos;BLOOD&apos;:[
&apos;AGREE_BS_B&apos;,
&apos;ALCOHOL_24_B&apos;,
&apos;BLOOD_COLLECTED_B&apos;,
&apos;CAFFEINE_24_B&apos;,
&apos;CURRENTLY_MENSTRUAL_B&apos;,
&apos;DECLINE_POST_B&apos;,
&apos;FIRST_ATTEMPT_B&apos;,
&apos;FOOD_DRINK_24_B&apos;,
&apos;NEEDLE_B&apos;,
&apos;NOTE_DRAW_SITE_B.FIBROSED_INFLAMED&apos;,
&apos;NOTE_DRAW_SITE_B.HEMATOMA&apos;,
&apos;NOTE_DRAW_SITE_B.PARALYZED&apos;,
&apos;NOTE_DRAW_SITE_B.PETECHIAE&apos;,
&apos;NOTE_DRAW_SITE_B.PICC_LINE&apos;,
&apos;NOTE_DRAW_SITE_B.RED_SWOLLEN&apos;,
&apos;NOTE_DRAW_SITE_B.SCARRING&apos;,
&apos;NOTE_DRAW_SITE_B.SCLEROTIC_HARDVEINS&apos;,
&apos;NOTE_DRAW_SITE_B.SEVERE_PROBLEM&apos;,
&apos;NOTE_DRAW_SITE_B.TATTOOS&apos;,
&apos;NOTE_DRAW_SITE_B.VASCULAR_GRAFT&apos;,
&apos;NOTE_OTHER_B.OTHER&apos;,
&apos;PART_DECLINED_B&apos;,
&apos;PART_POSTPONED_B&apos;,
&apos;SIT_RECLIN_B&apos;,
&apos;TECH_REASON_B&apos;,
&apos;TOBACCO_24_B&apos;,
&apos;WHICH_ARM_CHOSEN_2_B&apos;,
&apos;WHY_NOT_AGREE_BLOOD_B&apos;,
&apos;WHY_NO_BLOOD_B&apos;]
}

    for(var key in sections) {
      var rcount=0
      var qcount=0
      var arr=sections[key]
      for(var i=0; i&lt;arr.length; i++ ) {
        var j=$(stage+arr[i])
        if(j.isNull().value()) continue
        qcount++
        rcount+=j.any(&apos;REFUSED&apos;).value()?1:0
      }
      if(0==qcount) {
        str.push(key+&apos;:100&apos;)
      } else {
        var perc=100.0*rcount/qcount
        if(0&lt;perc &amp;&amp; 100&gt;perc &amp;&amp; 0!=(perc-Math.floor(perc))) {
          perc=perc.toFixed(3)
        }
        str.push(key+&apos;:&apos;+perc)
      }
    }
    res=newValue(&apos;{&apos;+str.join(&apos;,&apos;)+&apos;}&apos;,&apos;text&apos;)
  }
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_blood" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_blood&apos;).isNull().and(
  $this(&apos;stage_contraindicated_blood&apos;).eq(0),
  $this(&apos;stage_skip_blood&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_blood" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var stage=$this(&apos;group_blood&apos;)
var res=null
if(stage.isNull().not().value()) {
  stage=stage.value()
  res=$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,stage,&apos;Admin.StageInstance.lastState&apos;).whenNull(
      $group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,stage,&apos;Admin.StageInstance.lastState&apos;)).any(
        &apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value() ? 1 : 0
}
res</attribute>
        </attributes>
      </variable>
      <variable name="group_blood" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var res=null
var u=$group(&apos;Admin.StageInstance.stage&apos;,&apos;Blood&apos;,&apos;Admin.StageInstance.lastState&apos;).asSequence().last()
var v=$group(&apos;Admin.StageInstance.stage&apos;,&apos;Blood2&apos;,&apos;Admin.StageInstance.lastState&apos;).asSequence().last()
var p=$(&apos;Admin.StageInstance.stage&apos;).any(&apos;Blood&apos;).and(u.isNull().not()).value()
var q=$(&apos;Admin.StageInstance.stage&apos;).any(&apos;Blood2&apos;).and(v.isNull().not()).value()
if(p &amp;&amp; !q) {
  res=newValue( &apos;Blood&apos;, &apos;text&apos;)
} else if(q &amp;&amp; !p) {
  res=newValue( &apos;Blood2&apos;, &apos;text&apos;)
} else if(p &amp;&amp; q) {
  if(v.any(&apos;NotApplicable&apos;).or(u.any(&apos;Completed&apos;)).value()) {
    res=newValue(&apos;Blood&apos;, &apos;text&apos;)
  } else {
    res=newValue(&apos;Blood2&apos;, &apos;text&apos;)
  }
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_deviation_aecrf" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.Deviation_AE_CRF:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;Deviation_AE_CRF&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_deviation_aecrf" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;Deviation_AE_CRF&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;Deviation_AE_CRF&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_deviation_aecrf" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;Deviation_AE_CRF&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_deviation_aecrf" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var stage=&apos;clsa-dcs-f1.Deviation_AE_CRF:&apos;
var p=$(stage+&apos;QuestionnaireMetric.missingCount&apos;).asSequence()
var q=$(stage+&apos;QuestionnaireMetric.questionCount&apos;).asSequence()
var res=null
if(p.isNull().and(q.isNull()).not().value() &amp;&amp; 0!=q.sum()) {
  var str=[]
  str.push(
    &apos;complete:&apos;+
    Math.round(q.sum().minus(p.sum()).multiply(100).div(q.sum()).value()))

var sections={
&apos;Deviation&apos;:[
&apos;DEV_DCS_COF1&apos;,
&apos;DEV_WHAT_COF1&apos;,
&apos;DEV_REAS_COF1&apos;,
&apos;DEV_ORDR_COF1&apos;,
&apos;DEV_ORDR2_COF1&apos;,
&apos;DEV_ORDR3_COF1&apos;,
&apos;DEV_ORDR4_COF1&apos;,
&apos;DEV_ORDR5_COF1&apos;,
&apos;DEV_BLWHEN_COF1&apos;,
&apos;DAE_DCS_COF1&apos;,
&apos;DAE_WHAT_COF1&apos;,
&apos;DAE_FLWUP_COF1&apos;,
&apos;DAE_COMM_COF1&apos;,
&apos;CRF_DCS_COF1&apos;,
&apos;CRF_NCC_COF1&apos;,
&apos;CRF-REAS_COF1&apos;]
}

  for(var key in sections) {
    var rcount=0
    var qcount=0
    var arr=sections[key]
    for(var i=0; i&lt;arr.length; i++ ) {
      var j=$(stage+arr[i])
      if(j.isNull().value()) continue
      qcount++
      rcount+=j.any(&apos;REFUSED&apos;).value()?1:0
    }
    if(0==qcount) {
      str.push(key+&apos;:100&apos;)
    } else {
      var perc=100.0*rcount/qcount
      if(0&lt;perc &amp;&amp; 100&gt;perc &amp;&amp; 0!=(perc-Math.floor(perc))) {
        perc=perc.toFixed(3)
      }
      str.push(key+&apos;:&apos;+perc)
    }
  }

  res=newValue(&apos;{&apos;+str.join(&apos;,&apos;)+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_deviation_aecrf" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_deviation_aecrf&apos;).isNull().and(
  $this(&apos;stage_contraindicated_deviation_aecrf&apos;).eq(0),
  $this(&apos;stage_skip_deviation_aecrf&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_body_composition_weight" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.BodyCompositionWeight:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;BodyCompositionWeight&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_body_composition_weight" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;BodyCompositionWeight&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;BodyCompositionWeight&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_body_composition_weight" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;BodyCompositionWeight&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_body_composition_weight" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var stage=&apos;clsa-dcs-f1.BodyCompositionWeight:&apos;
var p=$(stage+&apos;QuestionnaireMetric.missingCount&apos;).asSequence()
var q=$(stage+&apos;QuestionnaireMetric.questionCount&apos;).asSequence()
var res=null
if(p.isNull().and(q.isNull()).not().value() &amp;&amp; 0!=q.sum()) {
  var str=[]
  str.push(
    &apos;complete:&apos;+
    Math.round(q.sum().minus(p.sum()).multiply(100).div(q.sum()).value()))

var sections={
&apos;S1&apos;:[
&apos;TN_FOOD_COF1&apos;,
&apos;TN_CAFF_COF1&apos;,
&apos;TN_ALCO_COF1&apos;,
&apos;TN_INEX_COF1&apos;,
&apos;TN_DIUR_COF1&apos;,
&apos;TN_WKTM_COF1&apos;,
&apos;BODY_COMPOSITION&apos;]
}

  for(var key in sections) {
    var rcount=0
    var qcount=0
    var arr=sections[key]
    for(var i=0; i&lt;arr.length; i++ ) {
      var j=$(stage+arr[i])
      if(j.isNull().value()) continue
      qcount++
      rcount+=j.any(&apos;REFUSED&apos;).value()?1:0
    }
    if(0==qcount) {
      str.push(key+&apos;:100&apos;)
    } else {
      var perc=100.0*rcount/qcount
      if(0&lt;perc &amp;&amp; 100&gt;perc &amp;&amp; 0!=(perc-Math.floor(perc))) {
        perc=perc.toFixed(3)
      }
      str.push(key+&apos;:&apos;+perc)
    }
  }

  res=newValue(&apos;{&apos;+str.join(&apos;,&apos;)+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_body_composition_weight" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_body_composition_weight&apos;).isNull().and(
  $this(&apos;stage_contraindicated_body_composition_weight&apos;).eq(0),
  $this(&apos;stage_skip_body_composition_weight&apos;).isNull(),
  $(&apos;clsa-dcs-f1.Participants:DCSatHOME&apos;).isNull().not()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_quality_assurance_inhome" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.Deviation_AE_CRF:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;Deviation_AE_CRF&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_quality_assurance_inhome" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;Deviation_AE_CRF&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;Deviation_AE_CRF&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_quality_assurance_inhome" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;QualityAssuranceIH&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_quality_assurance_inhome" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var stage=&apos;clsa-dcs-f1.QualityAssuranceIH:&apos;
var p=$(stage+&apos;QuestionnaireMetric.missingCount&apos;).asSequence()
var q=$(stage+&apos;QuestionnaireMetric.questionCount&apos;).asSequence()
var res=null
if(p.isNull().and(q.isNull()).not().value() &amp;&amp; 0!=q.sum()) {
  var str=[]
  str.push(
    &apos;complete:&apos;+
    Math.round(q.sum().minus(p.sum()).multiply(100).div(q.sum()).value()))

var sections={
&apos;QAH_COF1&apos;:[
&apos;QAH_INT1_COF1&apos;,
&apos;QAH_INTIME_COF1&apos;,
&apos;QAH_TWOVIS_COF1&apos;,
&apos;QAH_18mo_COF1&apos;,
&apos;QAH_INSAS_COF1&apos;,
&apos;QAH_INKNO_COF1&apos;,
&apos;QAH_FRIEND_COF1&apos;,
&apos;QAH_INMED_COF1&apos;,
&apos;QAH_HIN_COF1&apos;,
&apos;QAH_INMEM_COF1&apos;,
&apos;QAH_COM_COF1&apos;,
&apos;QAH_FRIEND2_COF1&apos;,
&apos;QAH_ININFO_COF1&apos;,
&apos;QAH_INANY_COF1&apos;,
&apos;QAH_EXPER_COF1&apos;,
&apos;QAH_IMPRV_COF1&apos;,
&apos;QAH_INTIME2_COF1&apos;,
&apos;QAH_INACC_COF1&apos;]
}

  for(var key in sections) {
    var rcount=0
    var qcount=0
    var arr=sections[key]
    for(var i=0; i&lt;arr.length; i++ ) {
      var j=$(stage+arr[i])
      if(j.isNull().value()) continue
      qcount++
      rcount+=j.any(&apos;REFUSED&apos;).value()?1:0
    }
    if(0==qcount) {
      str.push(key+&apos;:100&apos;)
    } else {
      var perc=100.0*rcount/qcount
      if(0&lt;perc &amp;&amp; 100&gt;perc &amp;&amp; 0!=(perc-Math.floor(perc))) {
        perc=perc.toFixed(3)
      }
      str.push(key+&apos;:&apos;+perc)
    }
  }

  res=newValue(&apos;{&apos;+str.join(&apos;,&apos;)+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_quality_assurance_inhome" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_quality_assurance_inhome&apos;).isNull().and(
  $this(&apos;stage_contraindicated_quality_assurance_inhome&apos;).eq(0),
  $this(&apos;stage_skip_quality_assurance_inhome&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_height_weight" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;HeightWeight&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_height_weight" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var p=$(&apos;clsa-dcs-f1.HeightWeight:QuestionnaireMetric.missingCount&apos;).asSequence()
var q=$(&apos;clsa-dcs-f1.HeightWeight:QuestionnaireMetric.questionCount&apos;).asSequence()
var res=null
if(p.isNull().and(q.isNull()).not().value() &amp;&amp; 0!=q.sum()){
  res=newValue(
    &apos;{complete:&apos;+
    Math.round(q.sum().minus(p.sum()).multiply(100).div(q.sum()).value())
    +&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_height_weight" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_height_weight&apos;).isNull().and(
  $this(&apos;stage_contraindicated_height_weight&apos;).eq(0),
  $this(&apos;stage_skip_height_weight&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_neuropsychological_battery_scoring" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.NeuropsychologicalBatteryScoring:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;NeuropsychologicalBatteryScoring&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_neuropsychological_battery_scoring" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;NeuropsychologicalBatteryScoring&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;NeuropsychologicalBatteryScoring&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_neuropsychological_battery_scoring" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;NeuropsychologicalBatteryScoring&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_neuropsychological_battery_scoring" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var p=$(&apos;clsa-dcs-f1.NeuropsychologicalBatteryScoring:QuestionnaireMetric.missingCount&apos;).asSequence()
var q=$(&apos;clsa-dcs-f1.NeuropsychologicalBatteryScoring:QuestionnaireMetric.questionCount&apos;).asSequence()
var res=null
if(p.isNull().and(q.isNull()).not().value() &amp;&amp; 0!=q.sum()){
  res=newValue(
    &apos;{complete:&apos;+
    Math.round(q.sum().minus(p.sum()).multiply(100).div(q.sum()).value())
    +&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_neuropsychological_battery_scoring" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_neuropsychological_battery_scoring&apos;).isNull().and(
  $this(&apos;stage_contraindicated_neuropsychological_battery_scoring&apos;).eq(0),
  $this(&apos;stage_skip_neuropsychological_battery_scoring&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_osea" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.OSEA:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;OSEA&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_osea" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;OSEA&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;OSEA&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_osea" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;OSEA&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_osea" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var stage=&apos;clsa-dcs-f1.OSEA:&apos;
var p=$(stage+&apos;QuestionnaireMetric.missingCount&apos;).asSequence()
var q=$(stage+&apos;QuestionnaireMetric.questionCount&apos;).asSequence()
var res=null
if(p.isNull().and(q.isNull()).not().value() &amp;&amp; 0!=q.sum()) {
  var str=[]
  str.push(
    &apos;complete:&apos;+
    Math.round(q.sum().minus(p.sum()).multiply(100).div(q.sum()).value()))

var sections={
&apos;ORH&apos;:[
&apos;ORH_HLTH_COF1&apos;,
&apos;ORH_TEETH_COF1&apos;,
&apos;ORH_TETH20_COF1&apos;,
&apos;ORH_DENT_COF1&apos;,
&apos;ORH_DNUSE_COF1&apos;,
&apos;ORH_UNCEAT_COF1&apos;,
&apos;ORH_EXP_DNB_COF1&apos;,
&apos;ORH_DNVST_COF1&apos;,
&apos;ORH_WYNDN_COF1&apos;,
&apos;ORH_TYPINS_COF1&apos;,
&apos;ORH_COST_COF1&apos;,
&apos;ORH_PRBHT_COF1&apos;,
&apos;ORH_BRUSDN_COF1&apos;,
&apos;ORH_WHO_COF1&apos;,
&apos;ORH_OFTN_COF1&apos;],
&apos;PSY_PHY_FIN&apos;:[
&apos;PSY_CRT_COF1&apos;,
&apos;PSY_OFTNCRT_COF1&apos;,
&apos;PSY_WHOCRT_COF1&apos;,
&apos;PSY_SEXCRT_COF1&apos;,
&apos;PSY_LIVCRT_COF1&apos;,
&apos;PSY_ISU_COF1&apos;,
&apos;PSY_OFTNISU_COF1&apos;,
&apos;PSY_WHOISU_COF1&apos;,
&apos;PSY_SEXISU_COF1&apos;,
&apos;PSY_LIVISU_COF1&apos;,
&apos;PSY_THR_COF1&apos;,
&apos;PSY_OFTNTHR_COF1&apos;,
&apos;PSY_WHOTHR_COF1&apos;,
&apos;PSY_SEXTHR_COF1&apos;,
&apos;PSY_LIVTHR_COF1&apos;,
&apos;PSY_IGN_COF1&apos;,
&apos;PSY_OFTNIGN_COF1&apos;,
&apos;PSY_WHOIGN_COF1&apos;,
&apos;PSY_SEXIGN_COF1&apos;,
&apos;PSY_LIVNIGN_COF1&apos;,
&apos;PHY_PUSH_COF1&apos;,
&apos;PHY_OFTNPUSH_COF1&apos;,
&apos;PHY_WHOPUSH_COF1&apos;,
&apos;PHY_SEXPUSH_COF1&apos;,
&apos;PHY_LIVPUSH_COF1&apos;,
&apos;PHY_THRN_COF1&apos;,
&apos;PHY_OFTNTHRN_COF1&apos;,
&apos;PHY_WHOTHRN_COF1&apos;,
&apos;PHY_SEXTHRN_COF1&apos;,
&apos;PHY_LIVTHRN_COF1&apos;,
&apos;PHY_HIT_COF1&apos;,
&apos;PHY_OFTNHIT_COF1&apos;,
&apos;PHY_WHOHIT_COF1&apos;,
&apos;PHY_SEXHIT_COF1&apos;,
&apos;PHY_LIVHIT_COF1&apos;,
&apos;PHY_THT_COF1&apos;,
&apos;PHY_OFTNTHT_COF1&apos;,
&apos;PHY_WHOTHT_COF1&apos;,
&apos;PHY_SEXTHT_COF1&apos;,
&apos;PHY_LIVTHT_COF1&apos;,
&apos;PHY_CHK_COF1&apos;,
&apos;PHY_OFTNCHK_COF1&apos;,
&apos;PHY_WHOCHK_COF1&apos;,
&apos;PHY_SEXCHK_COF1&apos;,
&apos;PHY_LIVCHK_COF1&apos;,
&apos;PHY_WPN_COF1&apos;,
&apos;PHY_OFTNWPN_COF1&apos;,
&apos;PHY_WHOWPN_COF1&apos;,
&apos;PHY_SEXWPN_COF1&apos;,
&apos;PHY_LIVWPN_COF1&apos;,
&apos;FIN_MNY_COF1&apos;,
&apos;FIN_OFTN_COF1&apos;,
&apos;FIN_WHOMNY_COF1&apos;,
&apos;FIN_SEXMNY_COF1&apos;,
&apos;FIN_LIVMNY_COF1&apos;,
&apos;FIN_POS_COF1&apos;,
&apos;FIN_OFTNPOS_COF1&apos;,
&apos;FIN_WHOPOS_COF1&apos;,
&apos;FIN_SEXPOS_COF1&apos;,
&apos;FIN_LIVPOS_COF1&apos;,
&apos;FIN_PRV_COF1&apos;,
&apos;FIN_OFTNPRV_COF1&apos;,
&apos;FIN_WHOPRV_COF1&apos;,
&apos;FIN_SEXPRV_COF1&apos;,
&apos;FIN_LIVPRV_COF1&apos;,
&apos;PSY_SEXCRT2_PRT_COF1&apos;,
&apos;PSY_SEXCRT2_SIB_COF1&apos;,
&apos;PSY_SEXCRT2_CHD_COF1&apos;,
&apos;PSY_SEXCRT2_GRC_COF1&apos;,
&apos;PSY_SEXCRT2_FML_COF1&apos;,
&apos;PSY_SEXCRT2_FRD_COF1&apos;,
&apos;PSY_SEXCRT2_CGV_COF1&apos;,
&apos;PSY_SEXCRT2_OT_COF1&apos;,
&apos;PSY_LIVCRT2_PRT_COF1&apos;,
&apos;PSY_LIVCRT2_SIB_COF1&apos;,
&apos;PSY_LIVCRT2_CHD_COF1&apos;,
&apos;PSY_LIVCRT2_GRC_COF1&apos;,
&apos;PSY_LIVCRT2_FML_COF1&apos;,
&apos;PSY_LIVCRT2_FRD_COF1&apos;,
&apos;PSY_LIVCRT2_CGV_COF1&apos;,
&apos;PSY_LIVCRT2_OT_COF1&apos;,
&apos;PSY_SEXISU2_PAR_COF1&apos;,
&apos;PSY_SEXISU2_SIB_COF1&apos;,
&apos;PSY_SEXISU2_CHILD_COF1&apos;,
&apos;PSY_SEXISU2_GRAN_COF1&apos;,
&apos;PSY_SEXISU2_FAM_COF1&apos;,
&apos;PSY_SEXISU2_FRI_COF1&apos;,
&apos;PSY_SEXISU2_PAID_COF1&apos;,
&apos;PSY_SEXISU2_OTSP_COF1&apos;,
&apos;PSY_LIVISU2_PAR_COF1&apos;,
&apos;PSY_LIVISU2_SIB_COF1&apos;,
&apos;PSY_LIVISU2_CHILD_COF1&apos;,
&apos;PSY_LIVISU2_GRAND_COF1&apos;,
&apos;PSY_LIVISU2_FAM_COF1&apos;,
&apos;PSY_LIVISU2_FRI_COF1&apos;,
&apos;PSY_LIVISU2_PAID_COF1&apos;,
&apos;PSY_LIVISU2_OTSP_COF1&apos;,
&apos;PSY_SEXTHR2_PAR_COF1&apos;,
&apos;PSY_SEXTHR2_SIB_COF1&apos;,
&apos;PSY_SEXTHR2_CHILD_COF1&apos;,
&apos;PSY_SEXTHR2_GRAND_COF1&apos;,
&apos;PSY_SEXTHR2_FAM_COF1&apos;,
&apos;PSY_SEXTHR2_FRI_COF1&apos;,
&apos;PSY_SEXTHR2_PAID_COF1&apos;,
&apos;PSY_SEXTHR2_OTSP_COF1&apos;,
&apos;PSY_LIVTHR2_PAR_COF1&apos;,
&apos;PSY_LIVTHR2_SIB_COF1&apos;,
&apos;PSY_LIVTHR2_CHILD_COF1&apos;,
&apos;PSY_LIVTHR2_GRAN_COF1&apos;,
&apos;PSY_LIVTHR2_FAM_COF1&apos;,
&apos;PSY_LIVTHR2_FRI_COF1&apos;,
&apos;PSY_LIVTHR2_PAID_COF1&apos;,
&apos;PSY_LIVTHR2_OTSP_COF1&apos;,
&apos;PSY_SEXIGN2_PAR_COF1&apos;,
&apos;PSY_SEXIGN2_SIB_COF1&apos;,
&apos;PSY_SEXIGN2_CHILD_COF1&apos;,
&apos;PSY_SEXIGN2_GRAN_COF1&apos;,
&apos;PSY_SEXIGN2_FAM_COF1&apos;,
&apos;PSY_SEXIGN2_FRI_COF1&apos;,
&apos;PSY_SEXIGN2_PAID_COF1&apos;,
&apos;PSY_SEXIGN2_OTSP_COF1&apos;,
&apos;PSY_LIVIGN2_PAR_COF1&apos;,
&apos;PSY_LIVNIGN2_SIB_COF1&apos;,
&apos;PSY_LIVNIGN2_CHILD_COF1&apos;,
&apos;PSY_LIVNIGN2_GRAN_COF1&apos;,
&apos;PSY_LIVNIGN2_FAM_COF1&apos;,
&apos;PSY_LIVNIGN2_FRI_COF1&apos;,
&apos;PSY_LIVNIGN2_PAID_COF1&apos;,
&apos;PSY_LIVNIGN2_OTSP_COF1&apos;,
&apos;PHY_SEXPUSH2_PAR_COF1&apos;,
&apos;PHY_SEXPUSH2_SIB_COF1&apos;,
&apos;PHY_SEXPUSH2_CHILD_COF1&apos;,
&apos;PHY_SEXPUSH2_GRAN_COF1&apos;,
&apos;PHY_SEXPUSH2_FAM_COF1&apos;,
&apos;PHY_SEXPUSH2_FRI_COF1&apos;,
&apos;PHY_SEXPUSH2_PAID_COF1&apos;,
&apos;PHY_SEXPUSH2_OTSP_COF1&apos;,
&apos;PHY_LIVPUSH2_PAR_COF1&apos;,
&apos;PHY_LIVPUSH2_SIB_COF1&apos;,
&apos;PHY_LIVPUSH2_CHILD_COF1&apos;,
&apos;PHY_LIVPUSH2_GRAN_COF1&apos;,
&apos;PHY_LIVPUSH2_FAM_COF1&apos;,
&apos;PHY_LIVPUSH2_FRI_COF1&apos;,
&apos;PHY_LIVPUSH2_PAID_COF1&apos;,
&apos;PHY_LIVPUSH2_OTSP_COF1&apos;,
&apos;PHY_SEXTHRN2_PAR_COF1&apos;,
&apos;PHY_SEXTHRN2_SIB_COF1&apos;,
&apos;PHY_SEXTHRN2_CHILD_COF1&apos;,
&apos;PHY_SEXTHRN2_GRAN_COF1&apos;,
&apos;PHY_SEXTHRN2_FAM_COF1&apos;,
&apos;PHY_SEXTHRN2_FRI_COF1&apos;,
&apos;PHY_SEXTHRN2_PAID_COF1&apos;,
&apos;PHY_SEXTHRN2_OTSP_COF1&apos;,
&apos;PHY_LIVTHRN2_PAR_COF1&apos;,
&apos;PHY_LIVTHRN2_SIB_COF1&apos;,
&apos;PHY_LIVTHRN2_CHILD_COF1&apos;,
&apos;PHY_LIVTHRN2_GRAN_COF1&apos;,
&apos;PHY_LIVTHRN2_FAM_COF1&apos;,
&apos;PHY_LIVTHRN2_FRI_COF1&apos;,
&apos;PHY_LIVTHRN2_PAID_COF1&apos;,
&apos;PHY_LIVTHRN2_OTHSP_COF1&apos;,
&apos;PHY_SEXHIT2_PAR_COF1&apos;,
&apos;PHY_SEXHIT2_SIB_COF1&apos;,
&apos;PHY_SEXHIT2_CHILD_COF1&apos;,
&apos;PHY_SEXHIT2_GRAN_COF1&apos;,
&apos;PHY_SEXHIT2_FAM_COF1&apos;,
&apos;PHY_SEXHIT2_FRI_COF1&apos;,
&apos;PHY_SEXHIT2_PAID_COF1&apos;,
&apos;PHY_SEXHIT2_OTSP_COF1&apos;,
&apos;PHY_LIVHIT2_PAR_COF1&apos;,
&apos;PHY_LIVHIT2_SIB_COF1&apos;,
&apos;PHY_LIVHIT2_CHILD_COF1&apos;,
&apos;PHY_LIVHIT2_GRAN_COF1&apos;,
&apos;PHY_LIVHIT2_FAM_COF1&apos;,
&apos;PHY_LIVHIT2_FRI_COF1&apos;,
&apos;PHY_LIVHIT2_PAID_COF1&apos;,
&apos;PHY_LIVHIT2_OTSP_COF1&apos;,
&apos;PHY_SEXTHT2_PAR_COF1&apos;,
&apos;PHY_SEXTHT2_SIB_COF1&apos;,
&apos;PHY_SEXTHT2_CHILD_COF1&apos;,
&apos;PHY_SEXTHT2_GRAN_COF1&apos;,
&apos;PHY_SEXTHT2_FAM_COF1&apos;,
&apos;PHY_SEXTHT2_FRI_COF1&apos;,
&apos;PHY_SEXTHT2_PAID_COF1&apos;,
&apos;PHY_SEXTHT2_OTSP_COF1&apos;,
&apos;PHY_LIVTHT2_PAR_COF1&apos;,
&apos;PHY_LIVTHT2_SIB_COF1&apos;,
&apos;PHY_LIVTHT2_CHILD_COF1&apos;,
&apos;PHY_LIVTHT2_GRAN_COF1&apos;,
&apos;PHY_LIVTHT2_FAM_COF1&apos;,
&apos;PHY_LIVTHT2_FRI_COF1&apos;,
&apos;PHY_LIVTHT2_PAID_COF1&apos;,
&apos;PHY_LIVTHT2_OTSP_COF1&apos;,
&apos;PHY_SEXCHK2_PAR_COF1&apos;,
&apos;PHY_SEXCHK2_SIB_COF1&apos;,
&apos;PHY_SEXCHK2_CHILD_COF1&apos;,
&apos;PHY_SEXCHK2_GRAN_COF1&apos;,
&apos;PHY_SEXCHK2_FAM_COF1&apos;,
&apos;PHY_SEXCHK2_FRI_COF1&apos;,
&apos;PHY_SEXCHK2_PAID_COF1&apos;,
&apos;PHY_SEXCHK2_OTSP_COF1&apos;,
&apos;PHY_LIVCHK2_PAR_COF1&apos;,
&apos;PHY_LIVCHK2_SIB_COF1&apos;,
&apos;PHY_LIVCHK2_CHILD_COF1&apos;,
&apos;PHY_LIVCHK2_GRAN_COF1&apos;,
&apos;PHY_LIVCHK2_FAM_COF1&apos;,
&apos;PHY_LIVCHK2_FRI_COF1&apos;,
&apos;PHY_LIVCHK2_PAID_COF1&apos;,
&apos;PHY_LIVCHK2_OTSP_COF1&apos;,
&apos;PHY_SEXWPN2_PAR_COF1&apos;,
&apos;PHY_SEXWPN2_SIB_COF1&apos;,
&apos;PHY_SEXWPN2_CHILD_COF1&apos;,
&apos;PHY_SEXWPN2_GRAN_COF1&apos;,
&apos;PHY_SEXWPN2_FAM_COF1&apos;,
&apos;PHY_SEXWPN2_FRI_COF1&apos;,
&apos;PHY_SEXWPN2_PAID_COF1&apos;,
&apos;PHY_SEXWPN2_OTSP_COF1&apos;,
&apos;PHY_LIVWPN2_PAR_COF1&apos;,
&apos;PHY_LIVWPN2_SIB_COF1&apos;,
&apos;PHY_LIVWPN2_CHILD_COF1&apos;,
&apos;PHY_LIVWPN2_GRAN_COF1&apos;,
&apos;PHY_LIVWPN2_FAM_COF1&apos;,
&apos;PHY_LIVWPN2_FRI_COF1&apos;,
&apos;PHY_LIVWPN2_PAID_COF1&apos;,
&apos;PHY_LIVWPN2_OTSP_COF1&apos;,
&apos;FIN_SEXMNY2_PAR_COF1&apos;,
&apos;FIN_SEXMNY2_SIB_COF1&apos;,
&apos;FIN_SEXMNY2_CHILD_COF1&apos;,
&apos;FIN_SEXMNY2_GRAN_COF1&apos;,
&apos;FIN_SEXMNY2_FAM_COF1&apos;,
&apos;FIN_SEXMNY2_FRI_COF1&apos;,
&apos;FIN_SEXMNY2_PAID_COF1&apos;,
&apos;FIN_SEXMNY2_OTSP_COF1&apos;,
&apos;FIN_LIVMNY2_PAR_COF1&apos;,
&apos;FIN_LIVMNY2_SIB_COF1&apos;,
&apos;FIN_LIVMNY2_CHILD_COF1&apos;,
&apos;FIN_LIVMNY2_GRAN_COF1&apos;,
&apos;FIN_LIVMNY2_FAM_COF1&apos;,
&apos;FIN_LIVMNY2_FRI_COF1&apos;,
&apos;FIN_LIVMNY2_PAID_COF1&apos;,
&apos;FIN_LIVMNY2_OTSP_COF1&apos;,
&apos;FIN_SEXPOS2_PAR_COF1&apos;,
&apos;FIN_SEXPOS2_SIB_COF1&apos;,
&apos;FIN_SEXPOS2_CHILD_COF1&apos;,
&apos;FIN_SEXPOS2_GRAN_COF1&apos;,
&apos;FIN_SEXPOS2_FAM_COF1&apos;,
&apos;FIN_SEXPOS2_FRI_COF1&apos;,
&apos;FIN_SEXPOS2_PAID_COF1&apos;,
&apos;FIN_SEXPOS2_OTSP_COF1&apos;,
&apos;FIN_LIVPOS2_PAR_COF1&apos;,
&apos;FIN_LIVPOS2_SIB_COF1&apos;,
&apos;FIN_LIVPOS2_CHILD_COF1&apos;,
&apos;FIN_LIVPOS2_GRAN_COF1&apos;,
&apos;FIN_LIVPOS2_FAM_COF1&apos;,
&apos;FIN_LIVPOS2_FRI_COF1&apos;,
&apos;FIN_LIVPOS2_PAID_COF1&apos;,
&apos;FIN_LIVPOS2_OTSP_COF1&apos;,
&apos;FIN_SEXPRV2_PAR_COF1&apos;,
&apos;FIN_SEXPRV2_SIB_COF1&apos;,
&apos;FIN_SEXPRV2_CHILD_COF1&apos;,
&apos;FIN_SEXPRV2_GRAN_COF1&apos;,
&apos;FIN_SEXPRV2_FAM_COF1&apos;,
&apos;FIN_SEXPRV2_FRI_COF1&apos;,
&apos;FIN_SEXPRV2_PAID_COF1&apos;,
&apos;FIN_SEXPRV2_OTSP_COF1&apos;,
&apos;FIN_LIVPRV2_PAR_COF1&apos;,
&apos;FIN_LIVPRV2_SIB_COF1&apos;,
&apos;FIN_LIVPRV2_CHILD_COF1&apos;,
&apos;FIN_LIVPRV2_GRAN_COF1&apos;,
&apos;FIN_LIVPRV2_FAM_COF1&apos;,
&apos;FIN_LIVPRV2_FRI_COF1&apos;,
&apos;FIN_LIVPRV2_PAID_COF1&apos;,
&apos;FIN_LIVPRV2_OTSP_COF1&apos;,
&apos;INTRO_2_COFI&apos;,
&apos;INTRO_3_COF1&apos;,
&apos;INTRO_4_COF1&apos;,
&apos;CODE_WORD_COF1&apos;],
&apos;SLE&apos;:[
&apos;SLE_QLTY_COF1&apos;,
&apos;SLS_HOUR_COF1&apos;,
&apos;SLE_30MIN_COF1&apos;,
&apos;SLE_30DUR_COF1&apos;,
&apos;SLE_30INTRF_COF1&apos;,
&apos;SLE_MIDFQ_COF1&apos;,
&apos;SLE_MIDDUR_COF1&apos;,
&apos;SLE_MIDINTRF_COF1&apos;,
&apos;SLE_STAYFQ_COF1&apos;,
&apos;SLE_STAYDUR_COF1&apos;,
&apos;SLE_STAYINTRF_COF1&apos;,
&apos;SLE_DREAM_COF1&apos;,
&apos;SLE_DRMDUR_COF1&apos;,
&apos;SLE_LEGS_COF1&apos;,
&apos;SLE_LGURG_COF1&apos;,
&apos;SLE_LGDUR_COF1&apos;,
&apos;SLE_LGFQ_COF1&apos;,
&apos;SLE_LGIMPR_COF1&apos;,
&apos;SLE_LGEVE_COF1&apos;,
&apos;SNO_SNORE_COF1&apos;,
&apos;SNO_STOPBREATH_COF1&apos;]
}

  for(var key in sections) {
    var rcount=0
    var qcount=0
    var arr=sections[key]
    for(var i=0; i&lt;arr.length; i++ ) {
      var j=$(stage+arr[i])
      if(j.isNull().value()) continue
      qcount++
      rcount+=j.any(&apos;REFUSED&apos;).value()?1:0
    }
    if(0==qcount) {
      str.push(key+&apos;:100&apos;)
    } else {
      var perc=100.0*rcount/qcount
      if(0&lt;perc &amp;&amp; 100&gt;perc &amp;&amp; 0!=(perc-Math.floor(perc))) {
        perc=perc.toFixed(3)
      }
      str.push(key+&apos;:&apos;+perc)
    }
  }

  res=newValue(&apos;{&apos;+str.join(&apos;,&apos;)+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_osea" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_osea&apos;).isNull().and(
  $this(&apos;stage_contraindicated_osea&apos;).eq(0),
  $this(&apos;stage_skip_osea&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_osonly" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.OSOnly:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;OSOnly&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_osonly" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;OSOnly&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;OSOnly&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_osonly" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$group(&apos;clsa-dcs-f1.Participants:Admin.StageInstance.stage&apos;,&apos;OSOnly&apos;,
&apos;Admin.StageInstance.lastState&apos;).any(&apos;Contraindicated&apos;,&apos;NotApplicable&apos;).value()
? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_osonly" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var stage=&apos;clsa-dcs-f1.OSOnly:&apos;
var p=$(stage+&apos;QuestionnaireMetric.missingCount&apos;).asSequence()
var q=$(stage+&apos;QuestionnaireMetric.questionCount&apos;).asSequence()
var res=null
if(p.isNull().and(q.isNull()).not().value() &amp;&amp; 0!=q.sum()) {
  var str=[]
  str.push(
    &apos;complete:&apos;+
    Math.round(q.sum().minus(p.sum()).multiply(100).div(q.sum()).value()))

var sections={
&apos;ORH&apos;:[
&apos;ORH_HLTH_COF1&apos;,
&apos;ORH_TEETH_COF1&apos;,
&apos;ORH_TETH20_COF1&apos;,
&apos;ORH_DENT_COF1&apos;,
&apos;ORH_DNUSE_COF1&apos;,
&apos;ORH_UNCEAT_COF1&apos;,
&apos;ORH_EXP_DNB_COF1&apos;,
&apos;ORH_DNVST_COF1&apos;,
&apos;ORH_WYNDN_COF1&apos;,
&apos;ORH_TYPINS_COF1&apos;,
&apos;ORH_COST_COF1&apos;,
&apos;ORH_PRBHT_COF1&apos;,
&apos;ORH_BRUSDN_COF1&apos;,
&apos;ORH_WHO_COF1&apos;,
&apos;ORH_OFTN_COF1&apos;],
&apos;SLE&apos;:[
&apos;SLE_QLTY_COF1&apos;,
&apos;SLS_HOUR_COF1&apos;,
&apos;SLE_30MIN_COF1&apos;,
&apos;SLE_30DUR_COF1&apos;,
&apos;SLE_30INTRF_COF1&apos;,
&apos;SLE_MIDFQ_COF1&apos;,
&apos;SLE_MIDDUR_COF1&apos;,
&apos;SLE_MIDINTRF_COF1&apos;,
&apos;SLE_STAYFQ_COF1&apos;,
&apos;SLE_STAYDUR_COF1&apos;,
&apos;SLE_STAYINTRF_COF1&apos;,
&apos;SLE_DREAM_COF1&apos;,
&apos;SLE_DRMDUR_COF1&apos;,
&apos;SLE_LEGS_COF1&apos;,
&apos;SLE_LGURG_COF1&apos;,
&apos;SLE_LGDUR_COF1&apos;,
&apos;SLE_LGFQ_COF1&apos;,
&apos;SLE_LGIMPR_COF1&apos;,
&apos;SLE_LGEVE_COF1&apos;,
&apos;SNO_SNORE_COF1&apos;,
&apos;SNO_STOPBREATH_COF1&apos;]
}

  for(var key in sections) {
    var rcount=0
    var qcount=0
    var arr=sections[key]
    for(var i=0; i&lt;arr.length; i++ ) {
      var j=$(stage+arr[i])
      if(j.isNull().value()) continue
      qcount++
      rcount+=j.any(&apos;REFUSED&apos;).value()?1:0
    }
    if(0==qcount) {
      str.push(key+&apos;:100&apos;)
    } else {
      var perc=100.0*rcount/qcount
      if(0&lt;perc &amp;&amp; 100&gt;perc &amp;&amp; 0!=(perc-Math.floor(perc))) {
        perc=perc.toFixed(3)
      }
      str.push(key+&apos;:&apos;+perc)
    }
  }

  res=newValue(&apos;{&apos;+str.join(&apos;,&apos;)+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_osonly" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_osonly&apos;).isNull().and(
  $this(&apos;stage_contraindicated_osonly&apos;).eq(0),
  $this(&apos;stage_skip_osonly&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_height_weight" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$(&apos;clsa-dcs-f1.HeightWeight:QuestionnaireRun.user&apos;).whenNull(
  $group(&apos;Admin.Action.stage&apos;,&apos;HeightWeight&apos;,&apos;Admin.Action.user&apos;).asSequence().last()).lowerCase()</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_height_weight" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var action=$group(&apos;Admin.Action.stage&apos;,&apos;HeightWeight&apos;,&apos;Admin.Action.actionType&apos;).asSequence()
var res=$group(&apos;Admin.Action.stage&apos;,&apos;HeightWeight&apos;,&apos;Admin.Action.eventReason&apos;).asSequence().filter(function(v,i){
  return action.indexOf(&apos;SKIP&apos;)==i
  }).last()
if(res.isNull().not().value()) {
  res=newValue(res.value().slice(14),&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_cognition_recording" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">var res=null
var d=$(&apos;clsa-dcs-f1.NeuropsychologicalBattery:STP_DOTREC_COF1&apos;)
var w=$(&apos;clsa-dcs-f1.NeuropsychologicalBattery:STP_WORREC_COF1&apos;)
var c=$(&apos;clsa-dcs-f1.NeuropsychologicalBattery:STP_COLREC_COF1&apos;)
var f=$(&apos;clsa-dcs-f1.NeuropsychologicalBattery:FAS_FREC_COF1&apos;)
var a=$(&apos;clsa-dcs-f1.NeuropsychologicalBattery:FAS_AREC_COF1&apos;)
var s=$(&apos;clsa-dcs-f1.NeuropsychologicalBattery:FAS_SREC_COF1&apos;)
if(!d.isNull().and(w.isNull(),c.isNull,f.isNull(),a.isNull(),s.isNull()).value()) {
  var str=[]
  str.push(&apos;filesize_dot:&apos;+(d.isNull().value()?&apos;0&apos;:d.length().value()))
  str.push(&apos;filesize_wor:&apos;+(w.isNull().value()?&apos;0&apos;:w.length().value()))
  str.push(&apos;filesize_col:&apos;+(c.isNull().value()?&apos;0&apos;:c.length().value()))
  str.push(&apos;filesize_f:&apos;+(f.isNull().value()?&apos;0&apos;:f.length().value()))
  str.push(&apos;filesize_a:&apos;+(a.isNull().value()?&apos;0&apos;:a.length().value()))
  str.push(&apos;filesize_s:&apos;+(s.isNull().value()?&apos;0&apos;:s.length().value()))
  res=newValue(&apos;{&apos;+str.join(&apos;,&apos;)+&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_cognition_recording" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;data_qac_cognition_recording&apos;).isNull().and(
  $this(&apos;stage_contraindicated_cognition_recording&apos;).eq(0),
  $this(&apos;stage_skip_cognition_recording&apos;).isNull()
).value() ? 1 : 0</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_cognition_recording" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;stage_technician_neuropsychological_battery&apos;)</attribute>
        </attributes>
      </variable>
      <variable name="stage_contraindicated_cognition_recording" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;stage_contraindicated_neuropsychological_battery&apos;)</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_cognition_recording" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">$this(&apos;stage_skip_neuropsychological_battery&apos;)</attribute>
        </attributes>
      </variable>
      <variable name="stage_technician_dexa" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">res=null
var tech=[]
var types=[&apos;forearm&apos;,&apos;dual_hip&apos;,&apos;whole_body&apos;,&apos;lateral&apos;,&apos;spine&apos;]
for(var i=0;i&lt;types.length;i++) {
  var name = $(&apos;Quality_Control.QC_F1:stage_technician_&apos;+types[i]+&apos;_bone_density&apos;)
  if(name.isNull().not().value()) tech.push(name)
}
if(0&lt;tech.length) {
  tech=tech.filter(function(value,index,self){return self.indexOf(value)===index;})
  res=tech[0]
}
res</attribute>
        </attributes>
      </variable>
      <variable name="stage_skip_dexa" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0"/>
      <variable name="stage_contraindicated_dexa" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">res=null
var c=0
var types=[&apos;forearm&apos;,&apos;dual_hip&apos;,&apos;whole_body&apos;,&apos;lateral&apos;,&apos;spine&apos;]
for(var i=0;i&lt;types.length;i++) {
  var v = $(&apos;Quality_Control.QC_F1:stage_contraindicated_&apos;+types[i]+&apos;_bone_density&apos;)
  if(v.eq(0).value()) c++
}
res=newValue(c==0 ? 1 : 0,&apos;integer&apos;)
res</attribute>
        </attributes>
      </variable>
      <variable name="data_qac_dexa" valueType="text" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">res=null
var types=[&apos;forearm&apos;,&apos;dual_hip&apos;,&apos;whole_body&apos;,&apos;lateral&apos;,&apos;spine&apos;]
var n=0
var d=types.length
for(var i=0;i&lt;types.length;i++) {
  var v = $(&apos;Quality_Control.QC_F1:stage_contraindicated_&apos;+types[i]+&apos;_bone_density&apos;)
  var q = $(&apos;Quality_Control.QC_F1:data_qac_&apos;+types[i]+&apos;_bone_density&apos;)
  if(v.eq(0).and(q.isNull().not()).value()) n++
  if(v.eq(1).value()) d--
}
if(d&gt;0) {
  res=newValue(&apos;{file_capture:&apos;+ 100.0*n/d +&apos;}&apos;,&apos;text&apos;)
}
res</attribute>
        </attributes>
      </variable>
      <variable name="data_missing_dexa" valueType="integer" entityType="Participant" unit="" mimeType="" referencedEntityType="" index="0">
        <attributes>
          <attribute name="script" valueType="text">res=null
var c=0
var types=[&apos;forearm&apos;,&apos;dual_hip&apos;,&apos;whole_body&apos;,&apos;lateral&apos;,&apos;spine&apos;]
for(var i=0;i&lt;types.length;i++) {
  var v = $(&apos;Quality_Control.QC_F1:data_missing_&apos;+types[i]+&apos;_bone_density&apos;)
  if(v.eq(1).value()) c++
}
res=newValue(c==0 ? 0 : 1,&apos;integer&apos;)
res</attribute>
        </attributes>
      </variable>
    </variables>
  </variables>
  <created valueType="datetime">2018-05-03T13:40:11.946-04</created>
  <updated valueType="datetime">2019-01-17T16:32:27.487-05</updated>
</org.obiba.magma.views.View>
